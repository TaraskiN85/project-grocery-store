{"version":3,"file":"commonHelpers.js","sources":["../src/JS/markup-cart-products.js","../src/cart.js","../src/JS/modal-cart.js"],"sourcesContent":["export const cartProductsList = document.querySelector('.cart-list');\n\nconst cartProductsInfo = JSON.parse(localStorage.getItem('cart-products-list'));\n\nconst createMarkup = cartProductsInfo => {\n  return cartProductsInfo\n    .map(\n      ({\n        _id,\n        name,\n        img,\n        category,\n        price,\n        size,\n        popularity,\n        quantity,\n        is10PercentOff,\n        desc,\n      }) =>\n        `<li class=\"card_container_product\" id=\"${_id}\">\n\n         <div class=\"description\">\n          <div class=\"card_container-product_img\">\n            <img class=\"card_product_img\" src=\"${img}\" alt=\"${name}\" />\n          </div>\n\n          <div class=\"card_container_product_fullDs\">\n            <div class=\"card_container_product_name\">\n              <h3 class=\"card_product_name\">${name}</h3>\n            </div>\n            <div class=\"card_container_product_description\">\n              <div class=\"card-description\">\n                <p class=\"cart_product_description\">\n                  <span class=\"cart_product_span\">Category:</span>${category}\n                </p>\n                <p class=\"cart_product_description\">\n                  <span class=\"cart_product_span\">Size:</span>${size}\n                </p>\n              </div>\n            </div>\n            <div class=\"card_container_price\">\n              <p class=\"card_product_price\">${price}</p>\n            </div>\n          </div>\n          <div class=\"card-product-delete-button\">\n            <button type=\"button\" class=\"cart-product-delete-button\">\n              <svg class=\"cart-icon-close-\" width=\"18\" height=\"18\">\n                <use src=\"../img/icons.svg#icon-delete-close\"></use>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n    </li>`\n    )\n    .join('');\n};\n\nexport const renderCartProducts = () => {\n  cartProductsList.innerHTML = ''\n  cartProductsList.insertAdjacentHTML(\n    'afterbegin',\n    createMarkup(cartProductsInfo)\n  );\n};\n","import { renderCartProducts,cartProductsList } from './JS/markup-cart-products';\n\nrenderCartProducts();\nconst deleteProductBtn = document.querySelector('.card-product-delete-button').parentNode;\nconst deleteAllBtn = document.querySelector('.cart-product-delete-all-button').parentNode;\n  \ndeleteProductBtn.addEventListener('click', deleteFromCart);\ndeleteAllBtn.addEventListener('click', deleteAllFromCart);\n\nconsole.log(deleteProductBtn);\n\nfunction deleteFromCart() {\n  const clickedElement = deleteProductBtn.parentNode.id;\n  console.log(clickedElement);\n  \n  const productsArr = JSON.parse(localStorage.getItem('cart-products-list'))\n  console.log(productsArr)\n  const newProductArr = productsArr.filter(product => {\n    return product._id !== clickedElement \n  })\n  localStorage.setItem('cart-products-list', JSON.stringify(newProductArr));\n  console.log(newProductArr)\n  cartProductsList.innerHTML = ''\n  renderCartProducts();\n};\n\nfunction deleteAllFromCart() { \n  localStorage.setItem('cart-products-list', JSON.stringify([]));\n  cartProductsList.innerHTML = ''\n  \n};\n\n","// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst cartBtnSubmit = document.querySelector('.cart_form_button');\nconst modalCartByBuy = document.querySelector('.modal-cart');\nconst modalCartClose = document.querySelector('.close-btn');\n\nfunction displayByBuyModal(event) {\n  event.preventDefault();\n\n  const emailInputValue = document.querySelector('.cart_form_input').value;\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  if (!emailRegex.test(emailInputValue)) {\n    alert('Please, enter valid Email.');\n    //   Notify.failure('Please, enter valid Email.');\n    return;\n  }\n  modalCartByBuy.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction handleModalClick(event) {\n  if (event.target === modalCartByBuy) {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  modalCartByBuy.classList.add('is-hidden');\n  document.body.style.overflow = 'visible';\n}\n\ncartBtnSubmit.addEventListener('click', displayByBuyModal);\nwindow.addEventListener('click', handleModalClick);\nmodalCartClose.addEventListener('click', closeModal);\n"],"names":["cartProductsList","cartProductsInfo","createMarkup","_id","name","img","category","price","size","popularity","quantity","is10PercentOff","desc","renderCartProducts","deleteProductBtn","deleteAllBtn","deleteFromCart","deleteAllFromCart","clickedElement","productsArr","newProductArr","product","cartBtnSubmit","modalCartByBuy","modalCartClose","displayByBuyModal","event","emailInputValue","handleModalClick","closeModal"],"mappings":"qFAAO,MAAMA,EAAmB,SAAS,cAAc,YAAY,EAE7DC,EAAmB,KAAK,MAAM,aAAa,QAAQ,oBAAoB,CAAC,EAExEC,EAAeD,GACZA,EACJ,IACC,CAAC,CACC,IAAAE,EACA,KAAAC,EACA,IAAAC,EACA,SAAAC,EACA,MAAAC,EACA,KAAAC,EACA,WAAAC,EACA,SAAAC,EACA,eAAAC,EACA,KAAAC,CACD,IACC,0CAA0CT;AAAA;AAAA;AAAA;AAAA,iDAIDE,WAAaD;AAAA;AAAA;AAAA;AAAA;AAAA,8CAKhBA;AAAA;AAAA;AAAA;AAAA;AAAA,oEAKsBE;AAAA;AAAA;AAAA,gEAGJE;AAAA;AAAA;AAAA;AAAA;AAAA,8CAKlBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAazC,EACA,KAAK,EAAE,EAGCM,EAAqB,IAAM,CACtCb,EAAiB,UAAY,GAC7BA,EAAiB,mBACf,aACAE,EAAaD,CAAgB,CACjC,CACA,EC9DAY,IACA,MAAMC,EAAmB,SAAS,cAAc,6BAA6B,EAAE,WACzEC,EAAe,SAAS,cAAc,iCAAiC,EAAE,WAE/ED,EAAiB,iBAAiB,QAASE,CAAc,EACzDD,EAAa,iBAAiB,QAASE,CAAiB,EAExD,QAAQ,IAAIH,CAAgB,EAE5B,SAASE,GAAiB,CACxB,MAAME,EAAiBJ,EAAiB,WAAW,GACnD,QAAQ,IAAII,CAAc,EAE1B,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQ,oBAAoB,CAAC,EACzE,QAAQ,IAAIA,CAAW,EACvB,MAAMC,EAAgBD,EAAY,OAAOE,GAChCA,EAAQ,MAAQH,CACxB,EACD,aAAa,QAAQ,qBAAsB,KAAK,UAAUE,CAAa,CAAC,EACxE,QAAQ,IAAIA,CAAa,EACzBpB,EAAiB,UAAY,GAC7Ba,GACF,CAEA,SAASI,GAAoB,CAC3B,aAAa,QAAQ,qBAAsB,KAAK,UAAU,CAAE,CAAA,CAAC,EAC7DjB,EAAiB,UAAY,EAE/B,CC5BA,MAAMsB,EAAgB,SAAS,cAAc,mBAAmB,EAC1DC,EAAiB,SAAS,cAAc,aAAa,EACrDC,EAAiB,SAAS,cAAc,YAAY,EAE1D,SAASC,EAAkBC,EAAO,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAkB,SAAS,cAAc,kBAAkB,EAAE,MAEnE,GAAI,CADe,6BACH,KAAKA,CAAe,EAAG,CACrC,MAAM,4BAA4B,EAElC,MACD,CACDJ,EAAe,UAAU,OAAO,WAAW,EAC3C,SAAS,KAAK,MAAM,SAAW,QACjC,CAEA,SAASK,EAAiBF,EAAO,CAC3BA,EAAM,SAAWH,GACnBM,GAEJ,CAEA,SAASA,GAAa,CACpBN,EAAe,UAAU,IAAI,WAAW,EACxC,SAAS,KAAK,MAAM,SAAW,SACjC,CAEAD,EAAc,iBAAiB,QAASG,CAAiB,EACzD,OAAO,iBAAiB,QAASG,CAAgB,EACjDJ,EAAe,iBAAiB,QAASK,CAAU"}