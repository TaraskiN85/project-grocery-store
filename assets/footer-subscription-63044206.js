import{a as c,s as d}from"./vendor-8a888f22.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const n="https://food-boutique.b.goit.study/api/",y=async()=>{let e=`${n}products/?`;const s=JSON.parse(localStorage.getItem("search-params"));for(const t in s)e+=`&${t}=${s[t].toString()}`;const a=await(await c.get(e)).data;return localStorage.setItem("fetched-products",JSON.stringify(a.results)),a},w=async()=>{const e=await c.get(`${n}products/categories/`),s=await e.data;return localStorage.setItem("product-categories",JSON.stringify(s)),await e.data},S=async()=>await(await c.get(`${n}products/discount/`)).data,b=async(e=5)=>{const s=Number.isInteger(e)?`${n}products/popular/?limit=${e}`:`${n}products/popular/`;return await(await c.get(s)).data},$=async e=>await(await c.get(`${n}products/${e}`)).data,f=async e=>await(await c.post(`${n}subscription/`,{email:`${e}`})).data,i=e=>{d("Error!",`${e}`,{className:"swal-red",icon:"error",buttons:!1,timer:5e3})},m=e=>{d("Success!",`${e}`,{className:"swal-green",icon:"success",buttons:!1,timer:5e3})},l=document.querySelector(".footer-form");l.addEventListener("submit",p);async function p(e){e.preventDefault();const s=l.querySelector("#footer-email").value;try{s||i("Email is required!"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||i("Please, enter valid Email!");const a=await f(s);l.querySelector("#footer-email").value="",m(a.message)}catch(o){o.response.data.message?i(o.response.data.message):i("Ooops! There`s an Error! Please, try again later!")}}export{b as a,S as b,$ as c,w as d,y as g};
//# sourceMappingURL=footer-subscription-63044206.js.map
