import{a as n,s as d}from"./vendor-8a888f22.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function a(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(t){if(t.ep)return;t.ep=!0;const r=a(t);fetch(t.href,r)}})();const y="/project-grocery-store/assets/icons-976eb860.svg",o="https://food-boutique.b.goit.study/api/",w=async()=>{let e=`${o}products/?`;const s=JSON.parse(localStorage.getItem("search-params"));for(const t in s)e+=`&${t}=${s[t].toString()}`;const c=await(await n.get(e)).data;return localStorage.setItem("fetched-products",JSON.stringify(c.results)),c},b=async()=>{const e=await n.get(`${o}products/categories/`),s=await e.data;return localStorage.setItem("product-categories",JSON.stringify(s)),await e.data},S=async()=>await(await n.get(`${o}products/discount/`)).data,$=async(e=5)=>{const s=Number.isInteger(e)?`${o}products/popular/?limit=${e}`:`${o}products/popular/`;return await(await n.get(s)).data},h=async e=>await(await n.get(`${o}products/${e}`)).data,L=async e=>await(await n.post(`${o}orders/`,e)).data,f=async e=>await(await n.post(`${o}subscription/`,{email:`${e}`})).data,i=e=>{d("Error!",`${e}`,{className:"swal-red",icon:"error",buttons:!1,timer:5e3})},p=e=>{d("Success!",`${e}`,{className:"swal-green",icon:"success",buttons:!1,timer:5e3})},l=document.querySelector(".footer-form");l.addEventListener("submit",g);async function g(e){e.preventDefault();const s=l.querySelector("#footer-email").value;try{s||i("Email is required!"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||i("Please, enter valid Email!");const c=await f(s);l.querySelector("#footer-email").value="",p(c.message)}catch(a){a.response.data.message?i(a.response.data.message):i("Ooops! There`s an Error! Please, try again later!")}}export{$ as a,S as b,L as c,h as d,b as e,w as g,y as i,i as s};
//# sourceMappingURL=footer-subscription-37f98d9c.js.map
