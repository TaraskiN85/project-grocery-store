{"version":3,"file":"commonHelpers2.js","sources":["../src/JS/markup-product-cards.js","../src/JS/pagination.js","../src/JS/markup-popular-discount-product-cards.js","../src/JS/filters.js","../src/JS/modal.js","../src/main.js"],"sourcesContent":["const refs = {\n  divProdCards: document.querySelector('.js-product-cards'),\n};\n\nexport function appendMarkup(data) {\n  refs.divProdCards.innerHTML = '';\n  refs.divProdCards.insertAdjacentHTML('afterbegin', createMarkup(data));\n}\n\nfunction createMarkup(data) {\n  if (data.results.length === 0) {\n    return `<div clas=\"products-nothing-container\">\n              <p class=\"products-nothing-headline\">Nothing was found for the selected\n                <span class=\"nothing-headline-span\">filters...</span>\n              </p>\n              <p class=\"products-nothing-text\">Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.</p>\n            </div>`;\n  } else {\n    return data.results\n      .map(\n        ({ _id, name, img, category, price, size, popularity }) =>\n          `<div class=\"product-card-prod\" id=\"${_id}\">\n            <div class=\"product-card-img-prod\">\n              <img class=\"card-img-prod\" src=\"${img}\" alt=\"${name}\">\n            </div>\n            <h3 class=\"produc-card-name-prod\">${name}</h3>\n            <div class=\"product-card-description-prod\">\n              <div class=\"card-description-prod\">\n                <p>Category:</p>\n                <p class=\"card-description-value-prod\">${category}</p>\n              </div>\n              <div class=\"card-description-prod\">\n                <p>Size:</p>\n                <p class=\"card-description-value-prod\">${size}</p>\n              </div>\n              <div class=\"card-description-prod\">\n                <p>Popularity:</p>\n                <p class=\"card-description-value-prod\">${popularity}</p>\n              </div>\n            </div>\n            \n            <div class=\"product-card-price-btn-prod\">\n              <p class=\"product-card-price-prod\">${price}</p>\n              <button type=\"button\" class=\"product-card-btn-prod id=\"${_id}\">\n                <svg width=\"18\" height=\"18\">\n                  <use class=\"button-icon-prod\" href=\"./img/icons.svg#icon-cart\"></use>\n                </svg>\n              </button>\n            </div>\n          </div>`\n      )\n      .join('');\n  }\n}\n","import Pagination from 'tui-pagination';\nimport { getProductsByParams } from './API';\nimport { appendMarkup } from './markup-product-cards';\n\n\n\nconst container = document.getElementById('pagination');\n\nconst options = JSON.parse(localStorage.getItem('search-params'));\ngetProductsByParams(options)\n  .then(data => {\n    const page = data.page;\n    let totalPages = data.totalPages;\n    const itemsPerPage = options.limit;\n    const totalItems = itemsPerPage * totalPages;\n\n    if (totalPages <= 1) {\n      return;\n    }\n\n    const pagination = new Pagination(container, {\n      totalItems,\n      itemsPerPage,\n      visiblePages: 3,\n      page,\n      centerAlign: false,\n      firstItemClassName: 'tui-first-child',\n      lastItemClassName: 'tui-last-child',\n      template: {\n        page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n        currentPage:\n          '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n        moveButton:\n          '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n          '<svg width=\"14\" height=\"14\">' +\n          '<use class=\"tui-btn-icon\" href=\"../img/icons.svg#{{type}}\"></use>' +\n          '</svg>' +\n          '</a>',\n        disabledMoveButton:\n          '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n          '<svg width=\"14\" height=\"14\">' +\n          '<use class=\"tui-btn-icon\" href=\"../img/icons.svg#{{type}}\"></use>' +\n          '</svg>' +\n          '</span>',\n        moreButton:\n          '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n          '<span class=\"tui-ico-ellip\">...</span>' +\n          '</a>',\n      },\n    });\n\n    pagination.on('afterMove', function (eventData) {\n      const currentPage = eventData.page;\n      async function fetchDataPagination(pageNum) {\n        try {\n          const options = JSON.parse(localStorage.getItem('search-params'));\n          options.page = pageNum;\n          localStorage.setItem('search-params', JSON.stringify(options));\n          const data = await getProductsByParams(options);\n          appendMarkup(data);\n        } catch (error) {\n          console.error(error);\n        }\n      }\n      fetchDataPagination(currentPage);\n    });\n  })\n  .catch(er => console.log(er));\n\ndocument\n  .querySelector('.category-input')\n  .addEventListener('change', handleSelectChange);\n\n\nfunction handleSelectChange() {\n  container.innerHTML = '';\n  const selectedValue = document.querySelector('.category-input');\n  const newOptions = JSON.parse(localStorage.getItem('search-params'));\n  getProductsByParams(newOptions)\n    .then(data => {\n      let totalPages = data.totalPages;\n      const itemsPerPage = options.limit;\n      const totalItems = itemsPerPage * totalPages;\n\n      if (totalPages <= 1) {\n        return;\n      }\n\n      const pagination = new Pagination(container, {\n        totalItems,\n        itemsPerPage,\n        visiblePages: 4,\n        page: 1,\n        centerAlign: false,\n        firstItemClassName: 'tui-first-child',\n        lastItemClassName: 'tui-last-child',\n        template: {\n          page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n          currentPage:\n            '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n          moveButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n            '<svg width=\"32\" height=\"32\">' +\n            '<use class=\"tui-btn-icon\" href=\"../img/icons.svg#{{type}}\"></use>' +\n            '</svg>' +\n            '</a>',\n          disabledMoveButton:\n            '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n            '<svg width=\"32\" height=\"32\">' +\n            '<use class=\"tui-btn-icon\" href=\"../img/icons.svg#{{type}}\"></use>' +\n            '</svg>' +\n            '</span>',\n          moreButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n            '<span class=\"tui-ico-ellip\">...</span>' +\n            '</a>',\n        },\n      });\n    })\n    .catch(er => console.log(er));\n}\n\n\ndocument.querySelector('.js-search-input').addEventListener('change', handlInputChange);\n\n\nfunction handlInputChange(event) {\n  event.preventDefault();\n\n  options.keyword = event.target.value;\n  container.innerHTML = '';\n  localStorage.setItem('search-params', JSON.stringify(options));\n  const newOptions = JSON.parse(localStorage.getItem('search-params'));\n  getProductsByParams(newOptions)\n    .then(data => {\n      let totalPages = data.totalPages;\n      const itemsPerPage = options.limit;\n      const totalItems = itemsPerPage * totalPages;\n   \n      if (totalPages <= 1) {\n        return;\n      }\n\n      const pagination = new Pagination(container, {\n        totalItems,\n        itemsPerPage,\n        visiblePages: 4,\n        page: 1,\n        centerAlign: false,\n        firstItemClassName: 'tui-first-child',\n        lastItemClassName: 'tui-last-child',\n        template: {\n          page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n          currentPage:\n            '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n          moveButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n            '<svg width=\"32\" height=\"32\">' +\n            '<use class=\"tui-btn-icon\" href=\"../img/icons.svg#{{type}}\"></use>' +\n            '</svg>' +\n            '</a>',\n          disabledMoveButton:\n            '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n            '<svg width=\"32\" height=\"32\">' +\n            '<use class=\"tui-btn-icon\" href=\"../img/icons.svg#{{type}}\"></use>' +\n            '</svg>' +\n            '</span>',\n          moreButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n            '<span class=\"tui-ico-ellip\">...</span>' +\n            '</a>',\n        },\n      });\n    })\n    .catch(er => console.log(er));\n}\n","import { getPopularProducts, getDiscountProducts } from './API';\n\nconst refs = {\n  popularProductCards: document.querySelector('.js-popular-product-cards'),\n  discountProductCards: document.querySelector('.js-discount-product-cards'),\n};\n\nexport async function appendPopularProductsMarkup() {\n  const data = await getPopularProducts();\n  refs.popularProductCards.insertAdjacentHTML(\n    'beforeend',\n    createPopularMarkup(data)\n  );\n}\n\nfunction createPopularMarkup(data) {\n  return data\n    .map(\n      ({ _id, name, img, category, size, popularity }) =>\n        `<div class=\"container-for-popular-items\" id=\"${_id}\">\n          <div class=\"aside-product-card\" id=\"${_id}\">\n                  <div class=\"aside-card-img\">\n                      <img class=\"aside-img\"\n                          src=\"${img}\"\n                          alt=\"${name}\">\n                  </div>\n                 <div class=\"container-for-name-descr\">\n                  <div class=\"card-product-name-container\">\n                  <h3 class=\"aside-card-name\">${name}</h3>\n                     </div>\n                  <div class=\"products-card-description\">\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Category:</p>\n                          <p class=\"card-descr-value\">${category}</p>\n                      </div>\n                      <div class=\"size-popularity-container\">\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Size:</p>\n                          <p class=\"card-descr-value\">${size}</p>\n                      </div>\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Popularity:</p>\n                          <p class=\"card-descr-value\">${popularity}</p>\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div class=\"product-card-prices-btn\">\n                      <button type=\"button\" class=\"products-card-btn\" id=\"${_id}\">\n                          <svg width=\"16\" height=\"16\">\n                              <use class=\"popular-button-icon\" href=\"./img/icons.svg#icon-cart\"></use>\n                          </svg>\n                      </button>\n                  </div>\n              </div>\n              </div>`\n    )\n    .join('');\n}\n\nexport async function appendDiscountProductsMarkup() {\n  const data = await getDiscountProducts();\n  refs.discountProductCards.insertAdjacentHTML(\n    'beforeend',\n    createDiscountMarkup(data)\n  );\n}\n\nfunction createDiscountMarkup(data) {\n  const renderData = data.slice(0, 2);\n  return renderData\n    .map(\n      ({ _id, name, img, price }) =>\n        `<div class=\"container-for-discount-items\" id=\"${_id}\">\n          <div class=\"discount-product-card\" id=\"${_id}\">\n                  <div class=\"discount-product-card-img\">\n                      <img class=\"discount-card-img\"\n                          src=\"${img}\"\n                          alt=\"${name}\">\n                          <span class=\"discount-svg\">\n                          <svg width=\"60\" height=\"60\" >\n                              <use  href=\"./img/icons.svg#icon-discount\"></use>\n                          </svg>\n                          </span>\n                  </div>\n                  <div class=\"product-card-prices-btn\">\n                  <h3 class=\"discount-product-card-name\">${name}</h3>\n\n                 <div class=\"discount-price-icon-container\">\n                      <p class=\"product-card-price\">$${price}</p>\n                      <button type=\"button\" class=\"discount-product-card-btn\" id=\"${_id}\">\n                          <svg width=\"18\" height=\"18\">\n                              <use class=\"discount-button-icon\" href=\"./img/icons.svg#icon-cart\"></use>\n                          </svg>\n                      </button>\n                  </div>\n                  </div>\n              </div>\n              </div>`\n    )\n    .join('');\n}\n","import { getProductsByParams } from './API';\nimport { appendMarkup } from './markup-product-cards';\n\nconst select = document.querySelector('.js-category');\nconst sorting = document.querySelector('.dropdown__input-hidden');\nconst search_input = document.querySelector('.js-search-input');\nconst defaultParams = {\n  keyword: '',\n  category: '',\n  page: 1,\n  limit: 6,\n};\n\nlocalStorage.setItem('search-params', JSON.stringify(defaultParams));\n\nselect.addEventListener('input', changeCategoryInLocal);\nsorting.addEventListener('input', changeSortingInLocal);\nsearch_input.addEventListener('submit', changeKeywordInLocal);\n\nexport function renderSelect(categories) {\n  const markup = categories\n    .map(category => {\n      return `<option value=\"${category}\">${category}</option>`;\n    })\n    .join('');\n  select.insertAdjacentHTML('afterbegin', markup);\n  getCategoryInput();\n}\n\nexport function fetchBasedOnScreenSize() {\n  const windowWidth = window.innerWidth;\n  if (windowWidth < 768) {\n    const searchParams = JSON.parse(localStorage.getItem('search-params'));\n    searchParams.limit = 6;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n    getProductsByParams()\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  } else if (windowWidth >= 768 && windowWidth < 1440) {\n    const searchParams = JSON.parse(localStorage.getItem('search-params'));\n    searchParams.limit = 8;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n    getProductsByParams()\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  } else {\n    const searchParams = JSON.parse(localStorage.getItem('search-params'));\n    searchParams.limit = 9;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n    getProductsByParams()\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  }\n}\n\nexport function checkedForm() {\n  const searchParams = JSON.parse(localStorage.getItem('search-params'));\n  if (searchParams) {\n    search_input.elements.searchQuery.value = searchParams.keyword ?? '';\n    select.options[select.selectedIndex].value = searchParams.category ?? '';\n  }\n}\n\nfunction changeCategoryInLocal() {\n  const searchParams = JSON.parse(localStorage.getItem('search-params'));\n  if (select.options[select.selectedIndex].value === 'All') {\n    sorting.selectedIndex = 0;\n    select.selectedIndex = select.options.length - 1;\n    localStorage.setItem('search-params', JSON.stringify(defaultParams));\n  } else {\n    searchParams.category = select.options[select.selectedIndex].value;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n  }\n  getProductsByParams()\n    .then(data => appendMarkup(data))\n    .catch(er => console.log(er));\n}\n\nfunction changeKeywordInLocal(evt) {\n  evt.preventDefault();\n  if (search_input.elements.searchQuery.value === '') {\n    const searchParams = JSON.parse(localStorage.getItem('search-params'));\n    searchParams.page = 1;\n    sorting.selectedIndex = 0;\n    // select.selectedIndex = select.options.length - 1;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n  } else {\n    const searchParams = JSON.parse(localStorage.getItem('search-params'));\n    searchParams.page = 1;\n    console.log('sort');\n    delete searchParams.byPopularity;\n    delete searchParams.byPrice;\n    delete searchParams.byABC;\n    searchParams.keyword = search_input.elements.searchQuery.value;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n  }\n  getProductsByParams()\n    .then(data => appendMarkup(data))\n    .catch(er => console.log(er));\n}\n\nfunction getCategoryInput() {\n  for (let i = 0; i < select.options.length; i++) {\n    if (select.options[i].value === searchParams.category) {\n      select.options[i].selected = true;\n      break;\n    }\n  }\n}\n\nfunction changeSortingInLocal(sort) {\n  console.log('Hi');\n  const searchParams = JSON.parse(localStorage.getItem('search-params'));\n  switch (sort.value) {\n    case 'a_z':\n      searchParams.byABC = true;\n      delete searchParams.byPrice;\n      delete searchParams.byPopularity;\n      break;\n\n    case 'z_a':\n      searchParams.byABC = false;\n      delete searchParams.byPrice;\n      delete searchParams.byPopularity;\n      break;\n\n    case 'cheap':\n      searchParams.byPrice = true;\n      delete searchParams.byABC;\n      delete searchParams.byPopularity;\n      break;\n\n    case 'expensive':\n      searchParams.byPrice = false;\n      delete searchParams.byABC;\n      delete searchParams.byPopularity;\n      break;\n\n    case 'popular':\n      searchParams.byPopularity = true;\n      delete searchParams.byPrice;\n      delete searchParams.byABC;\n      break;\n\n    case 'not_popular':\n      searchParams.byPopularity = false;\n      delete searchParams.byPrice;\n      delete searchParams.byABC;\n      break;\n\n    case 'All':\n      searchParams.page = 1;\n      delete searchParams.byPrice;\n      delete searchParams.byPopularity;\n      delete searchParams.byABC;\n      break;\n  }\n  localStorage.setItem('search-params', JSON.stringify(searchParams));\n  getProductsByParams()\n    .then(data => appendMarkup(data))\n    .catch(er => console.log(er));\n}\n\n// ========Filter Markup========\ndocument\n  .querySelectorAll('.dropdown-wrapper')\n  .forEach(function (dropDownWrapper) {\n    const dropDownBtn = dropDownWrapper.querySelector('.dropdown-sortingBtn');\n    const dropDownList = dropDownWrapper.querySelector(\n      '.dropdown-sorting__list'\n    );\n    const dropDownListItems = dropDownList.querySelectorAll(\n      '.dropdown-sorting__item'\n    );\n    const dropDownInput = dropDownWrapper.querySelector(\n      '.dropdown__input-hidden'\n    );\n\n    // Клик по кнопке. Открыть/Закрыть select\n    dropDownBtn.addEventListener('click', function (e) {\n      dropDownList.classList.toggle('dropdown__list--visible');\n      this.classList.add('dropdown__button--active');\n    });\n\n    // Выбор элемента списка. Запомнить выбранное значение. Закрыть дропдаун\n    dropDownListItems.forEach(function (listItem) {\n      listItem.addEventListener('click', function (e) {\n        e.stopPropagation();\n        dropDownBtn.innerText = this.innerText;\n        dropDownInput.value = this.dataset.value;\n        changeSortingInLocal(dropDownInput);\n        dropDownList.classList.remove('dropdown__list--visible');\n      });\n    });\n\n    // Клик снаружи дропдауна. Закрыть дропдаун\n    document.addEventListener('click', function (e) {\n      if (e.target !== dropDownBtn) {\n        dropDownBtn.classList.remove('dropdown__button--active');\n        dropDownList.classList.remove('dropdown__list--visible');\n      }\n    });\n  });\n","import { getProductById } from './API';\n\nimport { updateCartFromLocalStorage } from '../main';\n\ndocument.addEventListener('DOMContentLoaded', async function () {\n  const productContainer = document.querySelector(\n    '.container-product-cards-prod'\n  );\n  const modal = document.querySelector('.modal');\n  const closeModalBtn = document.querySelector('.modal-close-btn');\n  const popularContainer = document.querySelector('.container-aside-cards');\n  const discountContainer = document.querySelector(\n    '.container-discount-product-cards'\n  );\n  const addToCartBtn = document.querySelector('.addtocart-btn');\n  const discountSvg = document.querySelector('.modal-discount-svg');\n\n  async function manageCart(productId) {\n    try {\n      const product = await getProductDetails(productId);\n      const cartProducts =\n        JSON.parse(localStorage.getItem('cart-products-list')) || [];\n\n      const existingProductIndex = cartProducts.findIndex(\n        p => p._id === product._id\n      );\n\n      if (existingProductIndex !== -1) {\n        cartProducts.splice(existingProductIndex, 1);\n        localStorage.setItem(\n          'cart-products-list',\n          JSON.stringify(cartProducts)\n        );\n        checkProductCart();\n        updateCartFromLocalStorage();\n        \n      } else {\n        product.amount = 1;\n        cartProducts.push(product);\n        localStorage.setItem(\n          'cart-products-list',\n          JSON.stringify(cartProducts)\n        );\n        checkProductCart();\n        updateCartFromLocalStorage();\n      \n      }\n    } catch (error) {\n      console.error('Error managing cart:', error);\n    }\n  }\n\n  function checkProductCart() {\n    const productId = addToCartBtn.id;\n    const cartProductsList =\n      JSON.parse(localStorage.getItem('cart-products-list')) || [];\n\n    const isInCart = cartProductsList.some(\n      product => product._id === productId\n    );\n    updateIconModal(isInCart);\n    updateButtonContent();\n    updateButtonDiscounts()\n    updateButtonPopular()\n\n  }\n\n  function updateIconModal(isInCart) {\n    if (isInCart) {\n      addToCartBtn.innerHTML =\n        'Remove from <svg width=\"18\" height=\"18\"><use class=\"button-icon\" href=\"../img/icons.svg#icon-cart\"></use></svg>';\n    } else {\n      addToCartBtn.innerHTML =\n        'Add to <svg width=\"18\" height=\"18\"><use class=\"button-icon\" href=\"../img/icons.svg#icon-cart\"></use></svg>';\n    }\n  }\n\n  async function updateButtonContent() {\n    try {\n      const cartProductsList =\n        (await JSON.parse(localStorage.getItem('cart-products-list'))) || [];\n\n      const cardContainer = document.querySelector(\n        '.container-product-cards-prod'\n      );\n      if (cardContainer) {\n        const cards = cardContainer.querySelectorAll('.product-card-prod');\n        cards.forEach(card => {\n          const cardId = card.id;\n          const addButton = card.querySelector(\n            '.product-card-price-btn-prod .product-card-btn-prod'\n          );\n\n          if (addButton) {\n            const isInCart = cartProductsList.some(\n              product => product._id === cardId\n            );\n            addButton.disabled = isInCart;\n\n            if (isInCart) {\n              addButton.innerHTML =\n                '<svg width=\"18\" height=\"18\"><use class=\"button-icon\" href=\"../img/icons.svg#icon-check\"></use></svg>';\n            } else {\n              addButton.innerHTML =\n                '<svg width=\"18\" height=\"18\"><use class=\"button-icon\" href=\"../img/icons.svg#icon-cart\"></use></svg>';\n            }\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Error updating button content:', error);\n    }\n  }\n\n  async function updateButtonDiscounts() {\n    try {\n      const cartProductsList =\n        (await JSON.parse(localStorage.getItem('cart-products-list'))) || [];\n\n      const cardContainers = document.querySelector(\n        '.container-discount-product-cards'\n      );\n      if (cardContainers) {\n        const cards = cardContainers.querySelectorAll(\n          '.container-for-discount-items'\n        );\n        cards.forEach(card => {\n          const cardId = card.id;\n          const addButtons = card.querySelector('.discount-product-card-btn');\n\n          if (addButtons) {\n            const isInCart = cartProductsList.some(\n              product => product._id === cardId\n            );\n            addButtons.disabled = isInCart;\n\n            if (isInCart) {\n              addButtons.innerHTML =\n                '<svg width=\"16\" height=\"16\"><use class=\"discount-button-icon\" href=\"../img/icons.svg#icon-check\"></use></svg>';\n            } else {\n              addButtons.innerHTML =\n                '<svg width=\"16\" height=\"16\"><use class=\"discount-button-icon\" href=\"../img/icons.svg#icon-cart\"></use></svg>';\n            }\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Error updating button content:', error);\n    }\n  }\n\n  async function updateButtonPopular() {\n    try {\n      const cartProductsList =\n        (await JSON.parse(localStorage.getItem('cart-products-list'))) || [];\n\n      const cardContainers = document.querySelector('.container-aside-cards');\n      if (cardContainers) {\n        const cards = cardContainers.querySelectorAll(\n          '.container-for-popular-items'\n        );\n        cards.forEach(card => {\n          const cardId = card.id;\n          const addButtons = card.querySelector('.products-card-btn');\n\n          if (addButtons) {\n            const isInCart = cartProductsList.some(\n              product => product._id === cardId\n            );\n            addButtons.disabled = isInCart;\n\n            if (isInCart) {\n              addButtons.innerHTML =\n                '<svg width=\"16\" height=\"16\" fill=\"#6d8434\"><use class=\"popular-button-icon\" href=\"../img/icons.svg#icon-check\"></use></svg>';\n            } else {\n              addButtons.innerHTML =\n                '<svg width=\"16\" height=\"16\" fill=\"#6d8434\"><use class=\"popular-button-icon\" href=\"../img/icons.svg#icon-cart\"></use></svg>';\n            }\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Error updating button content:', error);\n    }\n  }\n\n  setInterval(updateButtonDiscounts, 2000);\n  setInterval(updateButtonContent, 2000);\n  setInterval(updateButtonPopular, 2000);\n\n  function openModal() {\n    modal.classList.remove('is-hidden');\n    document.body.style.overflow = 'hidden';\n  }\n\n  function closeModal() {\n    modal.classList.add('is-hidden');\n    document.body.style.overflow = 'visible';\n  }\n\n  document.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {\n      closeModal();\n    }\n  });\n\n  function handleModalClick(event) {\n    if (event.target === modal) {\n      closeModal();\n    }\n  }\n\n  window.addEventListener('click', handleModalClick);\n\n  closeModalBtn.addEventListener('click', closeModal);\n\n  const getProductDetails = async productId => {\n    try {\n      const productData = await getProductById(productId);\n      return productData;\n    } catch (error) {\n      console.error('Error fetching product details:', error);\n      return null;\n    }\n  };\n\n  async function handleProductClick(event) {\n    const clickedImage = event.target.closest('.product-card-img-prod');\n\n    if (clickedImage) {\n      const productId = clickedImage.closest('.product-card-prod').id;\n\n      addToCartBtn.setAttribute('id', productId);\n      modal.setAttribute('id', productId);\n\n      const product = await getProductDetails(productId);\n\n      if (product) {\n        displayProductDetails(product);\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function productClick(event) {\n    const clickedCard = event.target.closest('.product-card-btn-prod');\n\n    if (clickedCard) {\n      const productId = clickedCard.closest('.product-card-prod').id;\n\n      if (productId) {\n        manageCart(productId);\n        checkProductCart();\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function popularClick(event) {\n    const clickedCard = event.target.closest('.products-card-btn');\n\n    if (clickedCard) {\n      const productId = clickedCard.closest('.aside-product-card').id;\n\n      if (productId) {\n        manageCart(productId);\n        checkProductCart();\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function handlePopularClick(event) {\n    const clickedPopular = event.target.closest('.aside-card-img');\n\n    if (clickedPopular) {\n      const popularid = clickedPopular.closest('.aside-product-card').id;\n\n      addToCartBtn.setAttribute('id', popularid);\n      modal.setAttribute('id', popularid);\n\n      const product = await getProductDetails(popularid);\n\n      if (product) {\n        displayProductDetails(product);\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function dicountClick(event) {\n    const clickedCard = event.target.closest('.discount-product-card-btn');\n\n    if (clickedCard) {\n      const productId = clickedCard.closest('.discount-product-card').id;\n\n      if (productId) {\n        manageCart(productId);\n        checkProductCart();\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function handleDicountClick(event) {\n    const clickedDiscount = event.target.closest('.discount-product-card-img');\n\n    if (clickedDiscount) {\n      const discountId = clickedDiscount.closest('.discount-product-card').id;\n\n      addToCartBtn.setAttribute('id', discountId);\n      modal.setAttribute('id', discountId);\n\n      const product = await getProductDetails(discountId);\n\n      if (product) {\n        displayProductDetails(product);\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  function displayProductDetails(product) {\n    const {\n      name,\n      price,\n      desc,\n      img,\n      category,\n      size,\n      popularity,\n      is10PercentOff,\n    } = product;\n\n    openModal();\n    checkProductCart();\n\n    const discountValue = product.is10PercentOff;\n\n    if (discountValue === true) {\n      discountSvg.style.display = 'block';\n    } else {\n      discountSvg.style.display = 'none';\n    }\n\n    console.log(is10PercentOff);\n\n    const modalNameElement = document.querySelector('.modal-title');\n    const modalPriceElement = document.querySelector('.price');\n    const modalTextElement = document.querySelector('.modal-text');\n    const modalImageElement = document.querySelector('.img-content');\n    const modalSize = document.querySelector('.modal-size');\n    const modalCategory = document.querySelector('.modal-category');\n    const modalPop = document.querySelector('.modal-pop');\n\n    modalNameElement.textContent = name;\n    modalPriceElement.textContent = `$${price}`;\n    modalTextElement.textContent = desc;\n    modalImageElement.setAttribute('src', img);\n    modalSize.textContent = size;\n    modalCategory.textContent = category;\n    modalPop.textContent = popularity;\n  }\n\n  productContainer.addEventListener('click', handleProductClick);\n  productContainer.addEventListener('click', productClick);\n  popularContainer.addEventListener('click', handlePopularClick);\n  popularContainer.addEventListener('click', popularClick);\n\n  discountContainer.addEventListener('click', handleDicountClick);\n  discountContainer.addEventListener('click', dicountClick);\n  addToCartBtn.addEventListener('click', async event => {\n    event.preventDefault();\n    const productId = addToCartBtn.id;\n    await manageCart(productId);\n  });\n});\n","import './JS/pagination';\nimport { getProductsCategories, getProductById } from './JS/API';\nimport {\n  appendDiscountProductsMarkup,\n  appendPopularProductsMarkup,\n} from './JS/markup-popular-discount-product-cards';\nimport './JS/footer-subscription';\nimport {\n  renderSelect,\n  fetchBasedOnScreenSize,\n  checkedForm,\n} from './JS/filters';\n\nwindow.addEventListener('resize', fetchBasedOnScreenSize);\ncheckedForm();\nfetchBasedOnScreenSize();\ngetProductsCategories()\n  .then(data => {\n    renderSelect(data);\n  })\n  .catch(er => {\n    console.log(er);\n  });\n\nappendPopularProductsMarkup();\nappendDiscountProductsMarkup();\n// getProductsCategories();\nconst cartProducts = JSON.parse(localStorage.getItem('cart-products-list'));\nif (!cartProducts) {\n  localStorage.setItem('cart-products-list', JSON.stringify([]));\n}\n\nimport './JS/modal';\n\nexport function updateCartFromLocalStorage() {\n  const productsInLocalStorage = JSON.parse(localStorage.getItem('cart-products-list')) || [];\n  const objectsCount = productsInLocalStorage.length;\n  const quantityCart = document.querySelector('.quantity_products');\n  quantityCart.textContent = '(' + objectsCount + ')';\n}\n\nupdateCartFromLocalStorage()\n\n"],"names":["refs","appendMarkup","data","createMarkup","_id","name","img","category","price","size","popularity","container","options","getProductsByParams","page","totalPages","itemsPerPage","totalItems","Pagination","eventData","currentPage","fetchDataPagination","pageNum","error","er","handleSelectChange","handlInputChange","event","appendPopularProductsMarkup","getPopularProducts","createPopularMarkup","appendDiscountProductsMarkup","getDiscountProducts","createDiscountMarkup","select","sorting","search_input","defaultParams","changeCategoryInLocal","changeSortingInLocal","changeKeywordInLocal","renderSelect","categories","markup","getCategoryInput","fetchBasedOnScreenSize","windowWidth","searchParams","checkedForm","evt","i","sort","dropDownWrapper","dropDownBtn","dropDownList","dropDownListItems","dropDownInput","e","listItem","productContainer","modal","closeModalBtn","popularContainer","discountContainer","addToCartBtn","discountSvg","manageCart","productId","product","getProductDetails","cartProducts","existingProductIndex","p","checkProductCart","updateCartFromLocalStorage","isInCart","updateIconModal","updateButtonContent","updateButtonDiscounts","updateButtonPopular","cartProductsList","cardContainer","card","cardId","addButton","cardContainers","addButtons","openModal","closeModal","handleModalClick","getProductById","handleProductClick","clickedImage","displayProductDetails","productClick","clickedCard","popularClick","handlePopularClick","clickedPopular","popularid","dicountClick","handleDicountClick","clickedDiscount","discountId","desc","is10PercentOff","modalNameElement","modalPriceElement","modalTextElement","modalImageElement","modalSize","modalCategory","modalPop","getProductsCategories","objectsCount","quantityCart"],"mappings":"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"}