{"version":3,"file":"commonHelpers2.js","sources":["../src/JS/scroll-up","../src/JS/markup-product-cards.js","../src/JS/pagination.js","../src/JS/markup-popular-discount-product-cards.js","../src/JS/filters.js","../src/JS/modal.js","../src/main.js"],"sourcesContent":["const toTopBtn = document.querySelector('.scroll_up');\n\n\nwindow.addEventListener(\"scroll\", trackScroll);\n\ntoTopBtn.addEventListener(\"click\", toTop);\n\nfunction trackScroll() {\n\n  const scrolled = window.scrollY;\n\n  const positionBtn = 350;\n\n  if (scrolled > positionBtn) {\n\n    toTopBtn.classList.add(\"visible\");\n  } else {\n\n    toTopBtn.classList.remove(\"visible\");\n  }\n}\n\nfunction toTop() {\n\n  if (window.scrollY > 0) { \n    \n    window.scrollBy(0, -40);\n    setTimeout(toTop, 0); \n  }\n}","import icons from '../img/icons.svg';\n\nconst refs = {\n  divProdCards: document.querySelector('.js-product-cards'),\n};\n\nexport function appendMarkup(data) {\n  refs.divProdCards.innerHTML = '';\n  refs.divProdCards.insertAdjacentHTML('afterbegin', createMarkup(data));\n}\n\nfunction createMarkup(data) {\n  console.log(data.results);\n  if (data.results.length === 0) {\n    return `<div clas=\"products-nothing-container\">\n              <p class=\"products-nothing-headline\">Nothing was found for the selected\n                <span class=\"nothing-headline-span\">filters...</span>\n              </p>\n              <p class=\"products-nothing-text\">Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.</p>\n            </div>`;\n  } else {\n    const discountMarkup = `<span class=\"discount-svg\">\n    <svg width=\"60\" height=\"60\" >\n        <use  href=\"${icons}#icon-discount\"></use>\n    </svg>\n    </span>`;\n\n    return data.results\n      .map(\n        ({\n          _id,\n          name,\n          img,\n          category,\n          price,\n          size,\n          popularity,\n          is10PercentOff,\n        }) =>\n          `<div class=\"product-card-prod\" id=\"${_id}\">\n          <div class=\"product-card-img-prod\">\n            <img class=\"card-img-prod\" src=\"${img}\" alt=\"${name}\">\n            ${is10PercentOff ? discountMarkup : ''}\n          </div>\n          <h3 class=\"produc-card-name-prod\">${name}</h3>\n          <div class=\"product-card-description-prod\">\n            <div class=\"card-description-prod\">\n              <p>Category:</p>\n              <p class=\"card-description-value-prod\">${category}</p>\n            </div>\n            <div class=\"card-description-prod\">\n              <p>Size:</p>\n              <p class=\"card-description-value-prod\">${size}</p>\n            </div>\n            <div class=\"card-description-prod\">\n              <p>Popularity:</p>\n              <p class=\"card-description-value-prod\">${popularity}</p>\n            </div>\n          </div>\n          <div class=\"product-card-price-btn-prod\">\n            <p class=\"product-card-price-prod\">${price}</p>\n            <button type=\"button\" class=\"product-card-btn-prod id=\"${_id}\">\n              <svg width=\"18\" height=\"18\">\n                <use class=\"button-icon-prod\" href=\"${icons}#icon-cart\"></use>\n              </svg>\n            </button>\n          </div>\n        </div>`\n      )\n      .join('');\n  }\n}\n","import Pagination from 'tui-pagination';\nimport { getProductsByParams } from './API';\nimport { appendMarkup } from './markup-product-cards';\nimport icons from '../img/icons.svg';\n\nconst container = document.getElementById('pagination');\n\nconst options = JSON.parse(localStorage.getItem('search-params'));\ngetProductsByParams(options)\n  .then(data => {\n    const page = data.page;\n    let totalPages = data.totalPages;\n    const itemsPerPage = options.limit;\n    const totalItems = itemsPerPage * totalPages;\n\n    if (totalPages <= 1) {\n      return;\n    }\n\n    const pagination = new Pagination(container, {\n      totalItems,\n      itemsPerPage,\n      visiblePages: 3,\n      page,\n      centerAlign: false,\n      firstItemClassName: 'tui-first-child',\n      lastItemClassName: 'tui-last-child',\n      template: {\n        page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n        currentPage:\n          '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n        moveButton:\n          '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n          '<svg width=\"14\" height=\"14\">' +\n          `<use class=\"tui-btn-icon\" href=\"${icons}#{{type}}\"></use>` +\n          '</svg>' +\n          '</a>',\n        disabledMoveButton:\n          '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n          '<svg width=\"14\" height=\"14\">' +\n          `<use class=\"tui-btn-icon\" href=\"${icons}#{{type}}\"></use>` +\n          '</svg>' +\n          '</span>',\n        moreButton:\n          '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n          '<span class=\"tui-ico-ellip\">...</span>' +\n          '</a>',\n      },\n    });\n\n    pagination.on('afterMove', function (eventData) {\n      const currentPage = eventData.page;\n      async function fetchDataPagination(pageNum) {\n        try {\n          const options = JSON.parse(localStorage.getItem('search-params'));\n          options.page = pageNum;\n          localStorage.setItem('search-params', JSON.stringify(options));\n          const data = await getProductsByParams(options);\n          appendMarkup(data);\n        } catch (error) {\n          console.error(error);\n        }\n      }\n      fetchDataPagination(currentPage);\n    });\n  })\n  .catch(er => console.log(er));\n\n\n\n\n// const select = document.querySelector('.js-category-input')\n// select.addEventListener('change', handleSelectChange);\n// console.log(select);\n\n\nexport function handleSelectChange() {\n\n  container.innerHTML = '';\n  const newOptions = JSON.parse(localStorage.getItem('search-params'));\n  getProductsByParams(newOptions)\n    .then(data => {\n      let totalPages = data.totalPages;\n      const itemsPerPage = options.limit;\n      const totalItems = itemsPerPage * totalPages;\n\n      if (totalPages <= 1) {\n        return;\n      }\n\n      const pagination = new Pagination(container, {\n        totalItems,\n        itemsPerPage,\n        visiblePages: 4,\n        page: 1,\n        centerAlign: false,\n        firstItemClassName: 'tui-first-child',\n        lastItemClassName: 'tui-last-child',\n        template: {\n          page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n          currentPage:\n            '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n          moveButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n            '<svg width=\"14\" height=\"14\">' +\n            `<use class=\"tui-btn-icon\" href=\"${icons}#{{type}}\"></use>` +\n            '</svg>' +\n            '</a>',\n          disabledMoveButton:\n            '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n            '<svg width=\"14\" height=\"14\">' +\n            `<use class=\"tui-btn-icon\" href=\"${icons}#{{type}}\"></use>` +\n            '</svg>' +\n            '</span>',\n          moreButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n            '<span class=\"tui-ico-ellip\">...</span>' +\n            '</a>',\n        },\n      });\n    })\n    .catch(er => console.log(er));\n}\n\n\nconst input = document.querySelector('.js-search-input')\ninput.addEventListener('change', handlInputChange);\n\nfunction handlInputChange(event) {\n  event.preventDefault();\n\n  options.keyword = event.target.value;\n  container.innerHTML = '';\n  localStorage.setItem('search-params', JSON.stringify(options));\n  const newOptions = JSON.parse(localStorage.getItem('search-params'));\n  getProductsByParams(newOptions)\n    .then(data => {\n      let totalPages = data.totalPages;\n      const itemsPerPage = options.limit;\n      const totalItems = itemsPerPage * totalPages;\n\n      if (totalPages <= 1) {\n        return;\n      }\n\n      const pagination = new Pagination(container, {\n        totalItems,\n        itemsPerPage,\n        visiblePages: 4,\n        page: 1,\n        centerAlign: false,\n        firstItemClassName: 'tui-first-child',\n        lastItemClassName: 'tui-last-child',\n        template: {\n          page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n          currentPage:\n            '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n          moveButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n            '<svg width=\"14\" height=\"14\">' +\n            `<use class=\"tui-btn-icon\" href=\"${icons}#{{type}}\"></use>` +\n            '</svg>' +\n            '</a>',\n          disabledMoveButton:\n            '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n            '<svg width=\"14\" height=\"14\">' +\n            `<use class=\"tui-btn-icon\" href=\"${icons}#{{type}}\"></use>` +\n            '</svg>' +\n            '</span>',\n          moreButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n            '<span class=\"tui-ico-ellip\">...</span>' +\n            '</a>',\n        },\n      });\n    })\n    .catch(er => console.log(er));\n}\n","import { getPopularProducts, getDiscountProducts } from './API';\nimport icons from '../img/icons.svg';\n\nconst refs = {\n  popularProductCards: document.querySelector('.js-popular-product-cards'),\n  discountProductCards: document.querySelector('.js-discount-product-cards'),\n};\n\nexport async function appendPopularProductsMarkup() {\n  const data = await getPopularProducts();\n  refs.popularProductCards.insertAdjacentHTML(\n    'beforeend',\n    createPopularMarkup(data)\n  );\n}\n\nfunction createPopularMarkup(data) {\n  return data\n    .map(\n      ({ _id, name, img, category, size, popularity }) =>\n        `<div class=\"container-for-popular-items\" id=\"${_id}\">\n          <div class=\"aside-product-card\" id=\"${_id}\">\n                  <div class=\"aside-card-img\">\n                      <img class=\"aside-img\"\n                          src=\"${img}\"\n                          alt=\"${name}\">\n                  </div>\n                 <div class=\"container-for-name-descr\">\n                  <div class=\"card-product-name-container\">\n                  <h3 class=\"aside-card-name\">${name}</h3>\n                     </div>\n                  <div class=\"products-card-description\">\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Category:</p>\n                          <p class=\"card-descr-value\">${category}</p>\n                      </div>\n                      <div class=\"size-popularity-container\">\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Size:</p>\n                          <p class=\"card-descr-value\">${size}</p>\n                      </div>\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Popularity:</p>\n                          <p class=\"card-descr-value\">${popularity}</p>\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div class=\"product-card-prices-btn\">\n                      <button type=\"button\" class=\"products-card-btn\" id=\"${_id}\">\n                          <svg width=\"16\" height=\"16\">\n                              <use class=\"popular-button-icon\" href=\"${icons}#icon-cart\"></use>\n                          </svg>\n                      </button>\n                  </div>\n              </div>\n              </div>`\n    )\n    .join('');\n}\n\nexport async function appendDiscountProductsMarkup() {\n  const data = await getDiscountProducts();\n  refs.discountProductCards.insertAdjacentHTML(\n    'beforeend',\n    createDiscountMarkup(data)\n  );\n}\n\nfunction createDiscountMarkup(data) {\n  const renderData = data.slice(0, 2);\n  return renderData\n    .map(\n      ({ _id, name, img, price }) =>\n        `<div class=\"container-for-discount-items\" id=\"${_id}\">\n          <div class=\"discount-product-card\" id=\"${_id}\">\n                  <div class=\"discount-product-card-img\">\n                      <img class=\"discount-card-img\"\n                          src=\"${img}\"\n                          alt=\"${name}\">\n                          <span class=\"discount-svg\">\n                          <svg width=\"60\" height=\"60\" >\n                              <use  href=\"${icons}#icon-discount\"></use>\n                          </svg>\n                          </span>\n                  </div>\n                  <div class=\"product-card-prices-btn\">\n                  <h3 class=\"discount-product-card-name\">${name}</h3>\n\n                 <div class=\"discount-price-icon-container\">\n                      <p class=\"product-card-price\">$${price}</p>\n                      <button type=\"button\" class=\"discount-product-card-btn\" id=\"${_id}\">\n                          <svg width=\"18\" height=\"18\">\n                              <use class=\"discount-button-icon\" href=\"${icons}#icon-cart\"></use>\n                          </svg>\n                      </button>\n                  </div>\n                  </div>\n              </div>\n              </div>`\n    )\n    .join('');\n}\n","import { getProductsByParams } from './API';\nimport { appendMarkup } from './markup-product-cards';\nimport { handleSelectChange } from './pagination';\n\nconst categoryList = document.querySelector('.js-category-list');\nconst search_input = document.querySelector('.js-search-input');\nconst dropDownCatBtn = document.querySelector('.dropdown-categoryBtn');\nconst categoryInput = document.querySelector('.js-category-input');\n\nconst dropDownBtn = document.querySelector('.dropdown-sortingBtn');\nconst dropDownList = document.querySelector('.js-sorting-list');\nconst dropDownListItems = dropDownList.querySelectorAll('.js-sorting-item');\nconst dropDownInput = document.querySelector('.js-sorting-input');\n\nconst defaultParams = {\n  keyword: '',\n  category: '',\n  page: 1,\n  limit: 6,\n};\n\nif (!JSON.parse(localStorage.getItem('search-params'))) {\n  localStorage.setItem('search-params', JSON.stringify(defaultParams));\n}\n\nsearch_input.addEventListener('submit', changeKeywordInLocal);\n\nexport function renderSelect(categories) {\n  const markup = categories\n    .map(category => {\n      const wordsArray = category.split('_');\n      const formattedText = wordsArray.join(' ');\n      return `<li class=\"dropdown-sorting__item js-category-item\" data-value=\"${category}\">${formattedText}</li>`;\n    })\n    .join('');\n  categoryList.insertAdjacentHTML('afterbegin', markup);\n  const catListItems = document.querySelectorAll('.js-category-item');\n  catListItems.forEach(function (listItems) {\n    listItems.addEventListener('click', function (e) {\n      console.log('dropinner');\n      e.stopPropagation();\n      dropDownCatBtn.innerText = this.innerText;\n      categoryInput.value = this.dataset.value;\n      changeCategoryInLocal(categoryInput);\n      categoryList.classList.remove('dropdown__list--visible');\n    });\n  });\n  getCategoryInput();\n}\n\nexport function fetchBasedOnScreenSize() {\n  const windowWidth = window.innerWidth;\n  if (windowWidth < 768) {\n    const searchParams = JSON.parse(localStorage.getItem('search-params'));\n    searchParams.limit = 6;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n    getProductsByParams()\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  } else if (windowWidth >= 768 && windowWidth < 1440) {\n    const searchParams = JSON.parse(localStorage.getItem('search-params'));\n    searchParams.limit = 8;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n    getProductsByParams()\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  } else {\n    const searchParams = JSON.parse(localStorage.getItem('search-params'));\n    searchParams.limit = 9;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n    getProductsByParams()\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  }\n}\n\nexport function checkedForm() {\n  const searchParams = JSON.parse(localStorage.getItem('search-params'));\n  if (searchParams) {\n    search_input.elements.searchQuery.value = searchParams.keyword ?? '';\n    categoryInput.value = searchParams.category;\n  }\n}\n\nfunction changeCategoryInLocal(info) {\n  const searchParams = JSON.parse(localStorage.getItem('search-params'));\n  if (info.value === 'All') {\n    searchParams.category = '';\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n  } else {\n    searchParams.category = info.value;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n  }\n  getProductsByParams()\n    .then(data => appendMarkup(data))\n    .catch(er => console.log(er));\n  handleSelectChange();\n}\n\nfunction changeKeywordInLocal(evt) {\n  evt.preventDefault();\n  if (search_input.elements.searchQuery.value === '') {\n    const searchParams = JSON.parse(localStorage.getItem('search-params'));\n    searchParams.page = 1;\n    dropDownCatBtn.innerText = 'Category';\n    dropDownBtn.innerText = 'A to Z';\n    searchParams.category = '';\n    delete searchParams.byPopularity;\n    delete searchParams.byPrice;\n    delete searchParams.byABC;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n  } else {\n    const searchParams = JSON.parse(localStorage.getItem('search-params'));\n    searchParams.page = 1;\n    console.log('sort');\n    delete searchParams.byPopularity;\n    delete searchParams.byPrice;\n    delete searchParams.byABC;\n    searchParams.keyword = search_input.elements.searchQuery.value;\n    localStorage.setItem('search-params', JSON.stringify(searchParams));\n  }\n  getProductsByParams()\n    .then(data => appendMarkup(data))\n    .catch(er => console.log(er));\n}\n\nfunction getCategoryInput() {\n  const searchParams = JSON.parse(localStorage.getItem('search-params'));\n  if (searchParams) {\n    if (searchParams.category === '') {\n      dropDownCatBtn.innerText = 'Category';\n    } else {\n      categoryInput.value = searchParams.category;\n      const wordsArray = categoryInput.value.split('_');\n      const formattedText = wordsArray.join(' ');\n      dropDownCatBtn.innerText = formattedText;\n    }\n  }\n}\n\nfunction changeSortingInLocal(sort) {\n  const searchParams = JSON.parse(localStorage.getItem('search-params'));\n  switch (sort.value) {\n    case 'a_z':\n      searchParams.byABC = true;\n      delete searchParams.byPrice;\n      delete searchParams.byPopularity;\n      break;\n\n    case 'z_a':\n      searchParams.byABC = false;\n      delete searchParams.byPrice;\n      delete searchParams.byPopularity;\n      break;\n\n    case 'cheap':\n      searchParams.byPrice = true;\n      delete searchParams.byABC;\n      delete searchParams.byPopularity;\n      break;\n\n    case 'expensive':\n      searchParams.byPrice = false;\n      delete searchParams.byABC;\n      delete searchParams.byPopularity;\n      break;\n\n    case 'popular':\n      searchParams.byPopularity = true;\n      delete searchParams.byPrice;\n      delete searchParams.byABC;\n      break;\n\n    case 'not_popular':\n      searchParams.byPopularity = false;\n      delete searchParams.byPrice;\n      delete searchParams.byABC;\n      break;\n\n    case 'All':\n      searchParams.page = 1;\n      delete searchParams.byPrice;\n      delete searchParams.byPopularity;\n      delete searchParams.byABC;\n      break;\n  }\n  localStorage.setItem('search-params', JSON.stringify(searchParams));\n  getProductsByParams()\n    .then(data => appendMarkup(data))\n    .catch(er => console.log(er));\n}\n\n// ========Filter Sorting Markup========\n\ndropDownBtn.addEventListener('click', function (e) {\n  dropDownList.classList.toggle('dropdown__list--visible');\n  this.classList.add('dropdown__button--active');\n});\n\ndropDownListItems.forEach(function (listItem) {\n  listItem.addEventListener('click', function (e) {\n    e.stopPropagation();\n    dropDownBtn.innerText = this.innerText;\n    dropDownInput.value = this.dataset.value;\n    changeSortingInLocal(dropDownInput);\n    dropDownList.classList.remove('dropdown__list--visible');\n  });\n});\n\ndocument.addEventListener('click', function (e) {\n  if (e.target !== dropDownBtn) {\n    dropDownBtn.classList.remove('dropdown__button--active');\n    dropDownList.classList.remove('dropdown__list--visible');\n  }\n});\n\n// =====Filter Category Markup====\n\ndropDownCatBtn.addEventListener('click', function (e) {\n  console.log('дропліст');\n  categoryList.classList.toggle('dropdown__list--visible');\n  this.classList.add('dropdown__button--active');\n});\n\ndocument.addEventListener('click', function (e) {\n  if (e.target !== dropDownCatBtn) {\n    dropDownCatBtn.classList.remove('dropdown__button--active');\n    categoryList.classList.remove('dropdown__list--visible');\n  }\n});\n","import { getProductById } from './API';\n\nimport { updateCartFromLocalStorage } from '../main';\nimport icons from '../img/icons.svg';\n\ndocument.addEventListener('DOMContentLoaded', async function () {\n  const productContainer = document.querySelector(\n    '.container-product-cards-prod'\n  );\n  const modal = document.querySelector('.modal');\n  const closeModalBtn = document.querySelector('.modal-close-btn');\n  const popularContainer = document.querySelector('.container-aside-cards');\n  const discountContainer = document.querySelector(\n    '.container-discount-product-cards'\n  );\n  const addToCartBtn = document.querySelector('.addtocart-btn');\n  const discountSvg = document.querySelector('.modal-discount-svg');\n\n  async function manageCart(productId) {\n    try {\n      const product = await getProductDetails(productId);\n      const cartProducts =\n        JSON.parse(localStorage.getItem('cart-products-list')) || [];\n\n      const existingProductIndex = cartProducts.findIndex(\n        p => p._id === product._id\n      );\n\n      if (existingProductIndex !== -1) {\n        cartProducts.splice(existingProductIndex, 1);\n        localStorage.setItem(\n          'cart-products-list',\n          JSON.stringify(cartProducts)\n        );\n        checkProductCart();\n        updateCartFromLocalStorage();\n      } else {\n        product.amount = 1;\n        cartProducts.push(product);\n        localStorage.setItem(\n          'cart-products-list',\n          JSON.stringify(cartProducts)\n        );\n        checkProductCart();\n        updateCartFromLocalStorage();\n      }\n    } catch (error) {\n      console.error('Error managing cart:', error);\n    }\n  }\n\n  function checkProductCart() {\n    const productId = addToCartBtn.id;\n    const cartProductsList =\n      JSON.parse(localStorage.getItem('cart-products-list')) || [];\n\n    const isInCart = cartProductsList.some(\n      product => product._id === productId\n    );\n    updateIconModal(isInCart);\n    updateButtonContent();\n    updateButtonDiscounts();\n    updateButtonPopular();\n  }\n\n  function updateIconModal(isInCart) {\n    if (isInCart) {\n      addToCartBtn.innerHTML = `Remove from <svg width=\"18\" height=\"18\"><use class=\"button-icon\" href=\"${icons}#icon-cart\"></use></svg>`;\n    } else {\n      addToCartBtn.innerHTML = `Add to <svg width=\"18\" height=\"18\"><use class=\"button-icon\" href=\"${icons}#icon-cart\"></use></svg>`;\n    }\n  }\n\n  async function updateButtonContent() {\n    try {\n      const cartProductsList =\n        (await JSON.parse(localStorage.getItem('cart-products-list'))) || [];\n\n      const cardContainer = document.querySelector(\n        '.container-product-cards-prod'\n      );\n      if (cardContainer) {\n        const cards = cardContainer.querySelectorAll('.product-card-prod');\n        cards.forEach(card => {\n          const cardId = card.id;\n          const addButton = card.querySelector(\n            '.product-card-price-btn-prod .product-card-btn-prod'\n          );\n\n          if (addButton) {\n            const isInCart = cartProductsList.some(\n              product => product._id === cardId\n            );\n            addButton.disabled = isInCart;\n\n            if (isInCart) {\n              addButton.innerHTML = `<svg width=\"18\" height=\"18\"><use class=\"button-icon\" href=\"${icons}#icon-check\"></use></svg>`;\n            } else {\n              addButton.innerHTML = `<svg width=\"18\" height=\"18\"><use class=\"button-icon\" href=\"${icons}#icon-cart\"></use></svg>`;\n            }\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Error updating button content:', error);\n    }\n  }\n\n  async function updateButtonDiscounts() {\n    try {\n      const cartProductsList =\n        (await JSON.parse(localStorage.getItem('cart-products-list'))) || [];\n\n      const cardContainers = document.querySelector(\n        '.container-discount-product-cards'\n      );\n      if (cardContainers) {\n        const cards = cardContainers.querySelectorAll(\n          '.container-for-discount-items'\n        );\n        cards.forEach(card => {\n          const cardId = card.id;\n          const addButtons = card.querySelector('.discount-product-card-btn');\n\n          if (addButtons) {\n            const isInCart = cartProductsList.some(\n              product => product._id === cardId\n            );\n            addButtons.disabled = isInCart;\n\n            if (isInCart) {\n              addButtons.innerHTML = `<svg width=\"16\" height=\"16\"><use class=\"discount-button-icon\" href=\"${icons}#icon-check\"></use></svg>`;\n            } else {\n              addButtons.innerHTML =\n                '<svg width=\"16\" height=\"16\"><use class=\"discount-button-icon\" href=\"${icons}#icon-cart\"></use></svg>';\n            }\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Error updating button content:', error);\n    }\n  }\n\n  async function updateButtonPopular() {\n    try {\n      const cartProductsList =\n        (await JSON.parse(localStorage.getItem('cart-products-list'))) || [];\n\n      const cardContainers = document.querySelector('.container-aside-cards');\n      if (cardContainers) {\n        const cards = cardContainers.querySelectorAll(\n          '.container-for-popular-items'\n        );\n        cards.forEach(card => {\n          const cardId = card.id;\n          const addButtons = card.querySelector('.products-card-btn');\n\n          if (addButtons) {\n            const isInCart = cartProductsList.some(\n              product => product._id === cardId\n            );\n            addButtons.disabled = isInCart;\n\n            if (isInCart) {\n              addButtons.innerHTML = `<svg width=\"16\" height=\"16\" fill=\"#6d8434\"><use class=\"popular-button-icon\" href=\"${icons}#icon-check\"></use></svg>`;\n            } else {\n              addButtons.innerHTML = `<svg width=\"16\" height=\"16\" fill=\"#6d8434\"><use class=\"popular-button-icon\" href=\"${icons}#icon-cart\"></use></svg>`;\n            }\n          }\n        });\n      }\n    } catch (error) {\n      console.error('Error updating button content:', error);\n    }\n  }\n\n  setTimeout(() => {\n    updateButtonDiscounts();\n  }, 2000);\n\n  setTimeout(() => {\n    updateButtonContent();\n  }, 2000);\n\n  setTimeout(() => {\n    updateButtonPopular();\n  }, 2000);\n\n  function openModal() {\n    modal.classList.remove('is-hidden');\n    document.body.style.overflow = 'hidden';\n  }\n\n  function closeModal() {\n    modal.classList.add('is-hidden');\n    document.body.style.overflow = 'visible';\n  }\n\n  document.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {\n      closeModal();\n    }\n  });\n\n  function handleModalClick(event) {\n    if (event.target === modal) {\n      closeModal();\n    }\n  }\n\n  window.addEventListener('click', handleModalClick);\n\n  closeModalBtn.addEventListener('click', closeModal);\n\n  const getProductDetails = async productId => {\n    try {\n      const productData = await getProductById(productId);\n      return productData;\n    } catch (error) {\n      console.error('Error fetching product details:', error);\n      return null;\n    }\n  };\n\n  async function handleProductClick(event) {\n    const clickedImage = event.target.closest('.product-card-img-prod');\n\n    if (clickedImage) {\n      const productId = clickedImage.closest('.product-card-prod').id;\n\n      addToCartBtn.setAttribute('id', productId);\n      modal.setAttribute('id', productId);\n\n      const product = await getProductDetails(productId);\n\n      if (product) {\n        displayProductDetails(product);\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function productClick(event) {\n    const clickedCard = event.target.closest('.product-card-btn-prod');\n\n    if (clickedCard) {\n      const productId = clickedCard.closest('.product-card-prod').id;\n\n      if (productId) {\n        manageCart(productId);\n        checkProductCart();\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function popularClick(event) {\n    const clickedCard = event.target.closest('.products-card-btn');\n\n    if (clickedCard) {\n      const productId = clickedCard.closest('.aside-product-card').id;\n\n      if (productId) {\n        manageCart(productId);\n        checkProductCart();\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function handlePopularClick(event) {\n    const clickedPopular = event.target.closest('.aside-card-img');\n\n    if (clickedPopular) {\n      const popularid = clickedPopular.closest('.aside-product-card').id;\n\n      addToCartBtn.setAttribute('id', popularid);\n      modal.setAttribute('id', popularid);\n\n      const product = await getProductDetails(popularid);\n\n      if (product) {\n        displayProductDetails(product);\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function dicountClick(event) {\n    const clickedCard = event.target.closest('.discount-product-card-btn');\n\n    if (clickedCard) {\n      const productId = clickedCard.closest('.discount-product-card').id;\n\n      if (productId) {\n        manageCart(productId);\n        checkProductCart();\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function handleDicountClick(event) {\n    const clickedDiscount = event.target.closest('.discount-product-card-img');\n\n    if (clickedDiscount) {\n      const discountId = clickedDiscount.closest('.discount-product-card').id;\n\n      addToCartBtn.setAttribute('id', discountId);\n      modal.setAttribute('id', discountId);\n\n      const product = await getProductDetails(discountId);\n\n      if (product) {\n        displayProductDetails(product);\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  function displayProductDetails(product) {\n    const {\n      name,\n      price,\n      desc,\n      img,\n      category,\n      size,\n      popularity,\n      is10PercentOff,\n    } = product;\n\n    openModal();\n    checkProductCart();\n\n    const discountValue = product.is10PercentOff;\n\n    if (discountValue === true) {\n      discountSvg.style.display = 'block';\n    } else {\n      discountSvg.style.display = 'none';\n    }\n\n    const modalNameElement = document.querySelector('.modal-title');\n    const modalPriceElement = document.querySelector('.price');\n    const modalTextElement = document.querySelector('.modal-text');\n    const modalImageElement = document.querySelector('.img-content');\n    const modalSize = document.querySelector('.modal-size');\n    const modalCategory = document.querySelector('.modal-category');\n    const modalPop = document.querySelector('.modal-pop');\n\n    modalNameElement.textContent = name;\n    modalPriceElement.textContent = `$${price}`;\n    modalTextElement.textContent = desc;\n    modalImageElement.setAttribute('src', img);\n    modalSize.textContent = size;\n    modalCategory.textContent = category;\n    modalPop.textContent = popularity;\n  }\n\n  productContainer.addEventListener('click', handleProductClick);\n  productContainer.addEventListener('click', productClick);\n  popularContainer.addEventListener('click', handlePopularClick);\n  popularContainer.addEventListener('click', popularClick);\n\n  discountContainer.addEventListener('click', handleDicountClick);\n  discountContainer.addEventListener('click', dicountClick);\n  addToCartBtn.addEventListener('click', async event => {\n    event.preventDefault();\n    const productId = addToCartBtn.id;\n    await manageCart(productId);\n  });\n});\n","import './JS/pagination';\nimport { getProductsCategories, getProductById } from './JS/API';\nimport {\n  appendDiscountProductsMarkup,\n  appendPopularProductsMarkup,\n} from './JS/markup-popular-discount-product-cards';\nimport './JS/footer-subscription';\nimport {\n  renderSelect,\n  fetchBasedOnScreenSize,\n  checkedForm,\n} from './JS/filters';\n\nwindow.addEventListener('resize', fetchBasedOnScreenSize);\ncheckedForm();\nfetchBasedOnScreenSize();\ngetProductsCategories()\n  .then(data => {\n    renderSelect(data);\n  })\n  .catch(er => {\n    console.log(er);\n  });\n\nappendPopularProductsMarkup();\nappendDiscountProductsMarkup();\n// getProductsCategories();\nconst cartProducts = JSON.parse(localStorage.getItem('cart-products-list'));\nif (!cartProducts) {\n  localStorage.setItem('cart-products-list', JSON.stringify([]));\n}\n\nimport './JS/modal';\n\nexport function updateCartFromLocalStorage() {\n  const productsInLocalStorage =\n    JSON.parse(localStorage.getItem('cart-products-list')) || [];\n  const objectsCount = productsInLocalStorage.length;\n  const quantityCart = document.querySelector('.quantity_products');\n  quantityCart.textContent = '(' + objectsCount + ')';\n}\n\nupdateCartFromLocalStorage();\n"],"names":["toTopBtn","trackScroll","toTop","refs","appendMarkup","data","createMarkup","discountMarkup","icons","_id","name","img","category","price","size","popularity","is10PercentOff","container","options","getProductsByParams","page","totalPages","itemsPerPage","totalItems","Pagination","eventData","currentPage","fetchDataPagination","pageNum","error","er","handleSelectChange","input","handlInputChange","event","appendPopularProductsMarkup","getPopularProducts","createPopularMarkup","appendDiscountProductsMarkup","getDiscountProducts","createDiscountMarkup","categoryList","search_input","dropDownCatBtn","categoryInput","dropDownBtn","dropDownList","dropDownListItems","dropDownInput","defaultParams","changeKeywordInLocal","renderSelect","categories","markup","formattedText","listItems","e","changeCategoryInLocal","getCategoryInput","fetchBasedOnScreenSize","windowWidth","searchParams","checkedForm","info","evt","changeSortingInLocal","sort","listItem","productContainer","modal","closeModalBtn","popularContainer","discountContainer","addToCartBtn","discountSvg","manageCart","productId","product","getProductDetails","cartProducts","existingProductIndex","p","checkProductCart","updateCartFromLocalStorage","isInCart","updateIconModal","updateButtonContent","updateButtonDiscounts","updateButtonPopular","cartProductsList","cardContainer","card","cardId","addButton","cardContainers","addButtons","openModal","closeModal","handleModalClick","getProductById","handleProductClick","clickedImage","displayProductDetails","productClick","clickedCard","popularClick","handlePopularClick","clickedPopular","popularid","dicountClick","handleDicountClick","clickedDiscount","discountId","desc","modalNameElement","modalPriceElement","modalTextElement","modalImageElement","modalSize","modalCategory","modalPop","getProductsCategories","objectsCount","quantityCart"],"mappings":"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"}