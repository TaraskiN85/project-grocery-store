{"version":3,"file":"commonHelpers2.js","sources":["../src/JS/pagination.js","../src/JS/API.js","../src/JS/markup-product-cards.js","../src/JS/markup-popular-discount-product-cards.js","../src/main.js"],"sourcesContent":["const refs = {\n    prevNextBtn: document.querySelectorAll(\".prevNext\"),\n    numbers: document.querySelectorAll(\".pag-link\"),\n  };\n  \n  let currentStep = 0;\n  \n  const updateBtn = () => {\n    if (currentStep === 4) {\n      refs.prevNextBtn[1].disabled = true;\n    } else if (currentStep === 0) {\n      refs.prevNextBtn[0].disabled = true;\n    } else {\n      refs.prevNextBtn[0].disabled = false;\n      refs.prevNextBtn[1].disabled = false;\n    }\n  };\n  \n  refs.numbers.forEach((number, numIndex) => {\n    number.addEventListener(\"click\", (evt) => {\n      evt.preventDefault();\n      currentStep = numIndex;\n      document.querySelector(\".active\").classList.remove(\"active\");\n      number.classList.add(\"active\");\n      updateBtn();\n    });\n  });\n  \n  refs.prevNextBtn.forEach((button) => {\n    button.addEventListener(\"click\", (evt) => {\n      if (evt.target.id === \"next\") {\n        currentStep = currentStep + 1;\n      } else {\n        currentStep = currentStep - 1;\n      }\n      refs.numbers.forEach((number, numIndex) => {\n        number.classList.toggle(\"active\", numIndex === currentStep);\n        updateBtn();\n      });\n    });\n  });\n  ","import axios from 'axios';\n\nconst BASE_URL = 'https://food-boutique.b.goit.study/api/';\n\nexport const getAllProducts = async () => {\n  const res = await axios.get(`${BASE_URL}products/`);\n  return await res.data;\n};\n\nexport const getProductsByParams = async optionsObj => {\n  let FULL_URL = `${BASE_URL}products/?`;\n\n  for (const key in optionsObj) {\n    FULL_URL += `&${key}=${optionsObj[key].toString()}`;\n  }\n\n  const res = await axios.get(FULL_URL);\n  const data = await res.data;\n  localStorage.setItem('fetched-products', JSON.stringify(data.results));\n  return data;\n};\n\nexport const getProductsCategories = async () => {\n  const res = await axios.get(`${BASE_URL}products/categories/`);\n  return await res.data;\n};\n\nexport const getDiscountProducts = async () => {\n  const res = await axios.get(`${BASE_URL}products/discount/`);\n  return await res.data;\n};\n\nexport const getPopularProducts = async (limit = 5) => {\n  const FULL_URL = Number.isInteger(limit)\n    ? `${BASE_URL}products/popular/?limit=${limit}`\n    : `${BASE_URL}products/popular/`;\n\n  const res = await axios.get(FULL_URL);\n  return await res.data;\n};\n\nexport const getProductById = async id => {\n  const res = await axios.get(`${BASE_URL}products/?id=${id}`);\n  return await res.data;\n};\n\nexport const createNewOrder = async orderObj => {\n  const res = await axios.post(`${BASE_URL}orders/`, JSON.stringify(orderObj));\n  return await res.data;\n};\n\nexport const orderSubscription = async email => {\n  const res = await axios.post(`${BASE_URL}subscription/`, {\n    email: `${email}`,\n  });\n  return await res.data;\n};\n","const refs = {\n  divProdCards: document.querySelector('.js-product-cards'),\n};\n\nexport function appendMarkup(data) {\n  refs.divProdCards.innerHTML = '';\n  refs.divProdCards.insertAdjacentHTML('beforeend', createMarkup(data));\n}\n\nfunction createMarkup(data) {\n  return data.results\n    .map(\n      ({ _id, name, img, category, price, size, popularity }) =>\n        `<div class=\"product-card\" id=\"${_id}\">\n                  <div class=\"product-card-img\">\n                      <img class=\"card-img\"\n                          src=\"${img}\"\n                          alt=\"${name}\">\n                  </div>\n                  <h3 class=\"produc-card-name\">${name}</h3>\n                  <div class=\"product-card-description\">\n                      <div class=\"card-description\">\n                          <p>Category:</p>\n                          <p class=\"card-description-value\">${category}</p>\n                      </div>\n                      <div class=\"card-description\">\n                          <p>Size:</p>\n                          <p class=\"card-description-value\">${size}</p>\n                      </div>\n                      <div class=\"card-description\">\n                          <p>Popularity:</p>\n                          <p class=\"card-description-value\">${popularity}</p>\n                      </div>\n                  </div>\n                  <div class=\"product-card-price-btn\">\n                      <p class=\"product-card-price\">${price}</p>\n                      <button type=\"button\" class=\"product-card-btn\">\n                          <svg width=\"18\" height=\"18\">\n                              <use class=\"button-icon\" href=\"\"></use>\n                          </svg>\n                      </button>\n                  </div>\n              </div>`\n    )\n    .join('');\n}\n","import { getPopularProducts, getDiscountProducts } from './API';\n\nconst refs = {\n  popularProductCards: document.querySelector('.js-popular-product-cards'),\n  discountProductCards: document.querySelector('.js-discount-product-cards'),\n};\n\nexport async function appendPopularProductsMarkup() {\n  const data = await getPopularProducts();\n  refs.popularProductCards.insertAdjacentHTML(\n    'beforeend',\n    createPopularMarkup(data)\n  );\n}\n\nfunction createPopularMarkup(data) {\n  return data\n    .map(\n      ({ _id, name, img, category, size, popularity }) =>\n        `<div class=\"container-for-popular-items\">\n          <div class=\"aside-product-card\" id=\"${_id}\">\n                  <div class=\"aside-card-img\">\n                      <img class=\"aside-img\"\n                          src=\"${img}\"\n                          alt=\"${name}\">\n                  </div>\n                  <div class=\"card-product-name-container\">\n                  <h3 class=\"aside-card-name\">${name}</h3>\n                     </div>\n                  <div class=\"product-card-description\">\n                      <div class=\"aside-card-description\">\n                          <p>Category:</p>\n                          <p class=\"card-description-value\">${category}</p>\n                      </div>\n                      <div class=\"size-popularity-container\">\n                      <div class=\"aside-card-description\">\n                          <p>Size:</p>\n                          <p class=\"card-description-value\">${size}</p>\n                      </div>\n                      <div class=\"aside-card-description\">\n                          <p>Popularity:</p>\n                          <p class=\"card-description-value\">${popularity}</p>\n                      </div>\n                  </div>\n                  </div>\n                  <div class=\"product-card-price-btn\">\n                      <button type=\"button\" class=\"product-card-btn\">\n                          <svg width=\"18\" height=\"18\">\n                              <use class=\"button-icon\" href=\"../img/icons.svg#icon-cart\"></use>\n                          </svg>\n                      </button>\n                  </div>\n              </div>\n              </div>`\n    )\n    .join('');\n}\n\nexport async function appendDiscountProductsMarkup() {\n  const data = await getDiscountProducts();\n  refs.discountProductCards.insertAdjacentHTML(\n    'beforeend',\n    createDiscountMarkup(data)\n  );\n}\n\nfunction createDiscountMarkup(data) {\n  const renderData = data.slice(0, 2);\n  return renderData\n    .map(\n      ({ _id, name, img, price }) =>\n        `<div class=\"container-for-discount-items\">\n          <div class=\"discount-product-card\" id=\"${_id}\">\n                  <div class=\"discount-product-card-img\">\n                      <img class=\"discount-card-img\"\n                          src=\"${img}\"\n                          alt=\"${name}\">\n                  </div>\n                  <div class=\"product-card-price-btn\">\n                  <h3 class=\"discount-product-card-name\">${name}</h3>\n                      <p class=\"product-card-price\">${price}</p>\n                      <button type=\"button\" class=\"discount-product-card-btn\">\n                          <svg width=\"18\" height=\"18\">\n                              <use class=\"discount-button-icon\" href=\"../img/icons.svg#icon-cart\"></use>\n                          </svg>\n                      </button>\n                  </div>\n                  \n              </div>\n              </div>`\n    )\n    .join('');\n}\n","import './JS/pagination';\nimport { getProductsByParams } from './JS/API';\nimport { appendMarkup } from './JS/markup-product-cards';\nimport {\n  appendDiscountProductsMarkup,\n  appendPopularProductsMarkup,\n} from './JS/markup-popular-discount-product-cards';\n\nwindow.addEventListener('resize', fetchBasedOnScreenSize);\nfetchBasedOnScreenSize();\n\nfunction fetchBasedOnScreenSize() {\n  const options = {\n    keyword: '',\n    page: 2,\n    limit: '',\n  };\n  const windowWidth = window.innerWidth;\n  if (windowWidth < 768) {\n    options.limit = 6;\n    getProductsByParams(options)\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  } else if (windowWidth >= 768 && windowWidth < 1440) {\n    options.limit = 8;\n    getProductsByParams(options)\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  } else {\n    options.limit = 9;\n    getProductsByParams(options)\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  }\n}\n\nappendPopularProductsMarkup();\nappendDiscountProductsMarkup();\n"],"names":["refs","currentStep","updateBtn","number","numIndex","evt","button","BASE_URL","getProductsByParams","optionsObj","FULL_URL","key","data","axios","getDiscountProducts","getPopularProducts","limit","appendMarkup","createMarkup","_id","name","img","category","price","size","popularity","appendPopularProductsMarkup","createPopularMarkup","appendDiscountProductsMarkup","createDiscountMarkup","fetchBasedOnScreenSize","options","windowWidth","er"],"mappings":"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"}