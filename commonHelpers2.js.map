{"version":3,"file":"commonHelpers2.js","sources":["../src/JS/markup-product-cards.js","../src/JS/pagination.js","../src/JS/markup-popular-discount-product-cards.js","../src/JS/filters.js","../src/JS/modal.js","../src/main.js"],"sourcesContent":["const refs = {\n  divProdCards: document.querySelector('.js-product-cards'),\n};\n\nexport function appendMarkup(data) {\n  refs.divProdCards.innerHTML = '';\n  refs.divProdCards.insertAdjacentHTML('afterbegin', createMarkup(data));\n}\n\nfunction createMarkup(data) {\n  if (data.results.length === 0) {\n    return `<div clas=\"products-nothing-container\">\n              <p class=\"products-nothing-headline\">Nothing was found for the selected\n                <span class=\"nothing-headline-span\">filters...</span>\n              </p>\n              <p class=\"products-nothing-text\">Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.</p>\n            </div>`;\n  } else {\n    return data.results\n      .map(\n        ({ _id, name, img, category, price, size, popularity }) =>\n          `<div class=\"product-card-prod\" id=\"${_id}\">\n            <div class=\"product-card-img-prod\">\n              <img class=\"card-img-prod\" src=\"${img}\" alt=\"${name}\">\n            </div>\n            <h3 class=\"produc-card-name-prod\">${name}</h3>\n            <div class=\"product-card-description-prod\">\n              <div class=\"card-description-prod\">\n                <p>Category:</p>\n                <p class=\"card-description-value-prod\">${category}</p>\n              </div>\n              <div class=\"card-description-prod\">\n                <p>Size:</p>\n                <p class=\"card-description-value-prod\">${size}</p>\n              </div>\n              <div class=\"card-description-prod\">\n                <p>Popularity:</p>\n                <p class=\"card-description-value-prod\">${popularity}</p>\n              </div>\n            </div>\n            <div class=\"product-card-price-btn-prod\">\n              <p class=\"product-card-price-prod\">${price}</p>\n              <button type=\"button\" class=\"product-card-btn-prod\">\n                <svg width=\"18\" height=\"18\">\n                  <use class=\"button-icon-prod\" href=\"../img/icons.svg#icon-cart\"></use>\n                </svg>\n              </button>\n            </div>\n          </div>`\n      )\n      .join('');\n  }\n}\n","import Pagination from 'tui-pagination';\nimport { getProductsByParams } from './API';\nimport { appendMarkup } from './markup-product-cards';\n\nconst container = document.getElementById('pagination');\n\nconst totalItems = 600;\nconst itemsPerPage = 9;\nconst keyword = '';\nconst category = '';\n\nconst pagination = new Pagination(container, {\n  totalItems,\n  itemsPerPage,\n  visiblePages: 3,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n    firstPage: '<a href=\"#\" class=\"tui-page-btn tui-first-child\"><<</a>',\n    lastPage: '<a href=\"#\" class=\"tui-page-btn tui-last-child\">>></a>',\n    prevPage: '<a href=\"#\" class=\"tui-page-btn tui-prev\"><</a>',\n    nextPage: '<a href=\"#\" class=\"tui-page-btn tui-next\">></a>',\n  },\n});\n\nconst prevButton = container.querySelector('.tui-prev');\nconst nextButton = container.querySelector('.tui-next');\nconst firstButton = container.querySelector('.tui-first');\nconst lastButton = container.querySelector('.tui-last');\n\nprevButton.textContent = '\\u2039';\nnextButton.textContent = '\\u203A';\nfirstButton.textContent = '\\u00AB';\nlastButton.textContent = '\\u00BB';\n\npagination.on('afterMove', function (eventData) {\n  const currentPage = eventData.page;\n\n  async function fetchData(pageNum) {\n    try {\n      const options = JSON.parse(localStorage.getItem('search-params'));\n      options.page = pageNum;\n      localStorage.setItem('search-params', JSON.stringify(options));\n\n      const data = await getProductsByParams(options);\n      appendMarkup(data);\n      const prevButton = container.querySelector('.tui-prev');\n      const nextButton = container.querySelector('.tui-next');\n      const firstButton = container.querySelector('.tui-first');\n      const lastButton = container.querySelector('.tui-last');\n\n      prevButton.textContent = '\\u2039';\n      nextButton.textContent = '\\u203A';\n      firstButton.textContent = '\\u00AB';\n      lastButton.textContent = '\\u00BB';\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  fetchData(currentPage);\n});\n","import { getPopularProducts, getDiscountProducts } from './API';\n\nconst refs = {\n  popularProductCards: document.querySelector('.js-popular-product-cards'),\n  discountProductCards: document.querySelector('.js-discount-product-cards'),\n};\n\nexport async function appendPopularProductsMarkup() {\n  const data = await getPopularProducts();\n  refs.popularProductCards.insertAdjacentHTML(\n    'beforeend',\n    createPopularMarkup(data)\n  );\n}\n\nfunction createPopularMarkup(data) {\n  return data\n    .map(\n      ({ _id, name, img, category, size, popularity }) =>\n        `<div class=\"container-for-popular-items\">\n          <div class=\"aside-product-card\" id=\"${_id}\">\n                  <div class=\"aside-card-img\">\n                      <img class=\"aside-img\"\n                          src=\"${img}\"\n                          alt=\"${name}\">\n                  </div>\n                 <div class=\"container-for-name-descr\">\n                  <div class=\"card-product-name-container\">\n                  <h3 class=\"aside-card-name\">${name}</h3>\n                     </div>\n                  <div class=\"products-card-description\">\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Category:</p>\n                          <p class=\"card-descr-value\">${category}</p>\n                      </div>\n                      <div class=\"size-popularity-container\">\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Size:</p>\n                          <p class=\"card-descr-value\">${size}</p>\n                      </div>\n                      <div class=\"aside-card-description\">\n                          <p class=\"descr-p\">Popularity:</p>\n                          <p class=\"card-descr-value\">${popularity}</p>\n                      </div>\n                  </div>\n                  </div>\n                  </div>\n                  <div class=\"product-card-prices-btn\">\n                      <button type=\"button\" class=\"products-card-btn\">\n                          <svg width=\"16\" height=\"16\">\n                              <use class=\"popular-button-icon\" href=\"../img/icons.svg#icon-cart\"></use>\n                          </svg>\n                      </button>\n                  </div>\n              </div>\n              </div>`\n    )\n    .join('');\n}\n\nexport async function appendDiscountProductsMarkup() {\n  const data = await getDiscountProducts();\n  refs.discountProductCards.insertAdjacentHTML(\n    'beforeend',\n    createDiscountMarkup(data)\n  );\n}\n\nfunction createDiscountMarkup(data) {\n  const renderData = data.slice(0, 2);\n  return renderData\n    .map(\n      ({ _id, name, img, price }) =>\n        `<div class=\"container-for-discount-items\">\n          <div class=\"discount-product-card\" id=\"${_id}\">\n                  <div class=\"discount-product-card-img\">\n                      <img class=\"discount-card-img\"\n                          src=\"${img}\"\n                          alt=\"${name}\">\n                          <span class=\"discount-svg\">\n                          <svg width=\"60\" height=\"60\" >\n                              <use  href=\"../img/icons.svg#icon-discount\"></use>\n                          </svg>\n                          </span>\n                  </div>\n                  <div class=\"product-card-prices-btn\">\n                  <h3 class=\"discount-product-card-name\">${name}</h3>\n                 <div class=\"discount-price-icon-container\">\n                      <p class=\"product-card-price\">${price}</p>\n                      <button type=\"button\" class=\"discount-product-card-btn\">\n                          <svg width=\"18\" height=\"18\">\n                              <use class=\"discount-button-icon\" href=\"../img/icons.svg#icon-cart\"></use>\n                          </svg>\n                      </button>\n                  </div>\n                  </div>\n              </div>\n              </div>`\n    )\n    .join('');\n}\n","import { getProductsByParams } from './API';\nimport { appendMarkup } from './markup-product-cards';\n\nconst select = document.querySelector('.js-category');\nconst sorting = document.querySelector('.js-sorting');\nconst search_input = document.querySelector('.js-search-input');\nconst storage_key = 'search-params';\nconst params = {\n  keyword: '',\n  category: '',\n  page: 1,\n  limit: 9,\n};\n\nselect.addEventListener('input', changeCategoryInLocal);\nsorting.addEventListener('input', changeSortingInLocal);\nsearch_input.addEventListener('submit', changeKeywordInLocal);\n\nexport function renderSelect(categories) {\n  const markup = categories\n    .map(category => {\n      return `<option value=\"${category}\">${category}</option>`;\n    })\n    .join('');\n  select.insertAdjacentHTML('afterbegin', markup);\n  getCategoryInput();\n}\n\nexport function fetchBasedOnScreenSize() {\n  const windowWidth = window.innerWidth;\n  if (windowWidth < 768) {\n    params.limit = 6;\n    localStorage.setItem(storage_key, JSON.stringify(params));\n    getProductsByParams()\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  } else if (windowWidth >= 768 && windowWidth < 1440) {\n    params.limit = 8;\n    localStorage.setItem(storage_key, JSON.stringify(params));\n    getProductsByParams()\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  } else {\n    params.limit = 9;\n    localStorage.setItem(storage_key, JSON.stringify(params));\n    getProductsByParams()\n      .then(data => appendMarkup(data))\n      .catch(er => console.log(er));\n  }\n}\n\nexport function checkedForm() {\n  const savedParams = localStorage.getItem(storage_key);\n  if (savedParams) {\n    const parsedData = JSON.parse(savedParams);\n    search_input.elements.searchQuery.value = parsedData.keyword ?? '';\n    params.keyword = search_input.elements.searchQuery.value;\n    select.options[select.selectedIndex].value = parsedData.category ?? '';\n    params.category = select.options[select.selectedIndex].value;\n  }\n}\n\nfunction changeCategoryInLocal() {\n  const options = JSON.parse(localStorage.getItem('search-params'));\n  if (select.options[select.selectedIndex].value === 'All') {\n    options.category = '';\n    options.page = 1;\n  } else {\n    options.category = select.options[select.selectedIndex].value;\n  }\n  localStorage.setItem(storage_key, JSON.stringify(options));\n  getProductsByParams()\n    .then(data => appendMarkup(data))\n    .catch(er => console.log(er));\n}\n\nfunction changeKeywordInLocal(evt) {\n  evt.preventDefault();\n  const options = JSON.parse(localStorage.getItem('search-params'));\n  options.keyword = search_input.elements.searchQuery.value;\n  localStorage.setItem(storage_key, JSON.stringify(options));\n  getProductsByParams()\n    .then(data => appendMarkup(data))\n    .catch(er => console.log(er));\n}\n\nfunction getCategoryInput() {\n  const savedParams = localStorage.getItem(storage_key);\n  const parsedData = JSON.parse(savedParams);\n  for (let i = 0; i < select.options.length; i++) {\n    if (select.options[i].value === parsedData.category) {\n      select.options[i].selected = true;\n      break;\n    }\n  }\n}\n\nfunction changeSortingInLocal() {\n  const options = JSON.parse(localStorage.getItem('search-params'));\n  switch (sorting.options[sorting.selectedIndex].value) {\n    case 'a_z':\n      options.byABC = true;\n      delete options.byPrice;\n      delete options.byPopularity;\n      break;\n\n    case 'z_a':\n      options.byABC = false;\n      delete options.byPrice;\n      delete options.byPopularity;\n      break;\n\n    case 'cheap':\n      options.byPrice = true;\n      delete options.byABC;\n      delete options.byPopularity;\n      break;\n\n    case 'expensive':\n      options.byPrice = false;\n      delete options.byABC;\n      delete options.byPopularity;\n      break;\n\n    case 'popular':\n      options.byPopularity = true;\n      delete options.byPrice;\n      delete options.byABC;\n      break;\n\n    case 'not_popular':\n      options.byPopularity = false;\n      delete options.byPrice;\n      delete options.byABC;\n      break;\n\n    case 'All':\n      options.page = 1;\n      delete options.byPrice;\n      delete options.byPopularity;\n      delete options.byABC;\n      break;\n  }\n  localStorage.setItem(storage_key, JSON.stringify(options));\n  getProductsByParams()\n    .then(data => appendMarkup(data))\n    .catch(er => console.log(er));\n}\n","import { getProductById } from './API';\n\n\nimport { updateCartFromLocalStorage } from '../main';\n\n\n\ndocument.addEventListener('DOMContentLoaded', async function () {\n  const productContainer = document.querySelector('.container-product-cards-prod');\n  const modal = document.querySelector('.modal');\n  const closeModalBtn = document.querySelector('.modal-close-btn');\n  const popularContainer = document.querySelector('.container-aside-cards');\n  const discountContainer = document.querySelector(\n    '.container-discount-product-cards'\n  );\n  const addToCartBtn = document.querySelector('.addtocart-btn');\n  const discountSvg = document.querySelector('.modal-discount-svg');\n\n \n\n  async function manageCart(productId) {\n    try {\n      const product = await getProductDetails(productId);\n      const cartProducts = JSON.parse(localStorage.getItem('cart-products-list')) || [];\n  \n      const existingProductIndex = cartProducts.findIndex(p => p._id === product._id);\n  \n      if (existingProductIndex !== -1) {\n\n        cartProducts.splice(existingProductIndex, 1);\n        localStorage.setItem('cart-products-list', JSON.stringify(cartProducts));\n        checkProductCart();\n  \n    \n        updateCartFromLocalStorage();\n\n      } else {\n        cartProducts.push(product);\n        localStorage.setItem('cart-products-list', JSON.stringify(cartProducts));\n        checkProductCart();\n  \n        updateCartFromLocalStorage();\n      }\n    } catch (error) {\n      console.error('Error managing cart:', error);\n    }\n  }\n\n\n  function checkProductCart() {\n    addToCartBtn.disabled = false;\n    const productId = addToCartBtn.id; // Отримуємо ID товару з кнопки (може змінитися залежно від вашого коду)\n    const cartProductsList = JSON.parse(localStorage.getItem('cart-products-list')) || [];\n  \n    const isInCart = cartProductsList.some(product => product._id === productId);\n  \n    if (isInCart) {\n      addToCartBtn.innerHTML =\n        'Remove from <svg width=\"18\" height=\"18\"><use class=\"button-icon\" href=\"/img/icons.svg#icon-cart\"></use></svg>';\n    } else {\n      addToCartBtn.innerHTML =\n        'Add to <svg width=\"18\" height=\"18\"><use class=\"button-icon\" href=\"/img/icons.svg#icon-cart\"></use></svg>';\n    }\n  }\n\n  function openModal() {\n    modal.classList.remove('is-hidden');\n    document.body.style.overflow = 'hidden';\n  }\n\n  function closeModal() {\n    modal.classList.add('is-hidden');\n    document.body.style.overflow = 'visible';\n  }\n\n  document.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {\n      closeModal();\n    }\n  });\n\n  function handleModalClick(event) {\n    if (event.target === modal) {\n      closeModal();\n    }\n  }\n\n  window.addEventListener('click', handleModalClick);\n\n  closeModalBtn.addEventListener('click', closeModal);\n\n\n const getProductDetails = async (productId) => {\n    try {\n        const productData = await getProductById(productId);\n        return productData;\n    } catch (error) {\n        console.error('Error fetching product details:', error);\n        return null;\n    }\n};\n\n  async function handleProductClick(event) {\n    const clickedImage = event.target.closest('.product-card-img-prod');\n  \n    if (clickedImage) {\n      const productId = clickedImage.closest('.product-card-prod').id;\n  \n      addToCartBtn.setAttribute('id', productId);\n      modal.setAttribute('id', productId);\n  \n      const product = await getProductDetails(productId);\n  \n      if (product) {\n        displayProductDetails(product);\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    } \n  }\n  \n\n  async function handlePopularClick(event) {\n    const clickedPopular = event.target.closest('.aside-card-img');\n\n    if (clickedPopular) {\n      const popularid = clickedPopular.closest('.aside-product-card').id;\n  \n      addToCartBtn.setAttribute('id', popularid);\n      modal.setAttribute('id', popularid);\n  \n      const product = await getProductDetails(popularid);\n  \n      if (product) {\n        displayProductDetails(product);\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  async function handleDicountClick(event) {\n    const clickedDiscount = event.target.closest('.discount-product-card-img');\n\n    if (clickedDiscount) {\n      const  discountId = clickedDiscount.closest('.discount-product-card').id;\n  \n      addToCartBtn.setAttribute('id', discountId);\n      modal.setAttribute('id', discountId);\n  \n      const product = await getProductDetails(discountId);\n  \n      if (product) {\n        displayProductDetails(product);\n      } else {\n        console.log('Product ID not found in fetched-products');\n      }\n    }\n  }\n\n  function displayProductDetails(product) {\n    const {\n      name,\n      price,\n      desc,\n      img,\n      category,\n      size,\n      popularity,\n      is10PercentOff,\n    } = product;\n\n    openModal();\n    checkProductCart()\n\n    const discountValue = product.is10PercentOff;\n\n    if (discountValue === true) {\n      discountSvg.style.display = 'block';\n    } else {\n      discountSvg.style.display = 'none';\n    }\n\n    console.log(is10PercentOff);\n\n    const modalNameElement = document.querySelector('.modal-title');\n    const modalPriceElement = document.querySelector('.price');\n    const modalTextElement = document.querySelector('.modal-text');\n    const modalImageElement = document.querySelector('.img-content');\n    const modalSize = document.querySelector('.modal-size');\n    const modalCategory = document.querySelector('.modal-category');\n    const modalPop = document.querySelector('.modal-pop');\n\n    modalNameElement.textContent = name;\n    modalPriceElement.textContent = `$${price}`;\n    modalTextElement.textContent = desc;\n    modalImageElement.setAttribute('src', img);\n    modalSize.textContent = size;\n    modalCategory.textContent = category;\n    modalPop.textContent = popularity;\n  }\n\n  popularContainer.addEventListener('click', handlePopularClick);\n  productContainer.addEventListener('click', handleProductClick);\n  discountContainer.addEventListener('click', handleDicountClick);\n    addToCartBtn.addEventListener('click', async (event) => {\n    event.preventDefault();\n    const productId = addToCartBtn.id;\n    await manageCart(productId);\n  });\n});\n","import './JS/pagination';\nimport { getProductsCategories, getProductById } from './JS/API';\nimport {\n  appendDiscountProductsMarkup,\n  appendPopularProductsMarkup,\n} from './JS/markup-popular-discount-product-cards';\nimport './JS/footer-subscription';\nimport {\n  renderSelect,\n  fetchBasedOnScreenSize,\n  checkedForm,\n} from './JS/filters';\n\nwindow.addEventListener('resize', fetchBasedOnScreenSize);\ncheckedForm();\nfetchBasedOnScreenSize();\ngetProductsCategories()\n  .then(data => {\n    renderSelect(data);\n  })\n  .catch(er => {\n    console.log(er);\n  });\n\nappendPopularProductsMarkup();\nappendDiscountProductsMarkup();\n// getProductsCategories();\nconst cartProducts = JSON.parse(localStorage.getItem('cart-products-list'));\nif (!cartProducts) {\n  localStorage.setItem('cart-products-list', JSON.stringify([]));\n}\n\nimport './JS/modal';\n\nexport function updateCartFromLocalStorage() {\n  const productsInLocalStorage = JSON.parse(localStorage.getItem('cart-products-list')) || [];\n  const objectsCount = productsInLocalStorage.length;\n  const quantityCart = document.querySelector('.quantity_products');\n  quantityCart.textContent = '(' + objectsCount + ')';\n}\n\nupdateCartFromLocalStorage()\n"],"names":["refs","appendMarkup","data","createMarkup","_id","name","img","category","price","size","popularity","container","totalItems","itemsPerPage","pagination","Pagination","prevButton","nextButton","firstButton","lastButton","eventData","currentPage","fetchData","pageNum","options","getProductsByParams","error","appendPopularProductsMarkup","getPopularProducts","createPopularMarkup","appendDiscountProductsMarkup","getDiscountProducts","createDiscountMarkup","select","sorting","search_input","storage_key","params","changeCategoryInLocal","changeSortingInLocal","changeKeywordInLocal","renderSelect","categories","markup","getCategoryInput","fetchBasedOnScreenSize","windowWidth","er","checkedForm","savedParams","parsedData","evt","i","productContainer","modal","closeModalBtn","popularContainer","discountContainer","addToCartBtn","discountSvg","manageCart","productId","product","getProductDetails","cartProducts","existingProductIndex","p","checkProductCart","updateCartFromLocalStorage","openModal","closeModal","event","handleModalClick","getProductById","handleProductClick","clickedImage","displayProductDetails","handlePopularClick","clickedPopular","popularid","handleDicountClick","clickedDiscount","discountId","desc","is10PercentOff","modalNameElement","modalPriceElement","modalTextElement","modalImageElement","modalSize","modalCategory","modalPop","getProductsCategories","objectsCount","quantityCart"],"mappings":"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"}